(function(){var e={5358:function(e,t,a){var s={"./af":2190,"./af.js":2190,"./ar":7218,"./ar-dz":5785,"./ar-dz.js":5785,"./ar-kw":9417,"./ar-kw.js":9417,"./ar-ly":6904,"./ar-ly.js":6904,"./ar-ma":8617,"./ar-ma.js":8617,"./ar-ps":1318,"./ar-ps.js":1318,"./ar-sa":2699,"./ar-sa.js":2699,"./ar-tn":6789,"./ar-tn.js":6789,"./ar.js":7218,"./az":3050,"./az.js":3050,"./be":8316,"./be.js":8316,"./bg":310,"./bg.js":310,"./bm":8884,"./bm.js":8884,"./bn":3469,"./bn-bd":6672,"./bn-bd.js":6672,"./bn.js":3469,"./bo":9118,"./bo.js":9118,"./br":3113,"./br.js":3113,"./bs":3626,"./bs.js":3626,"./ca":921,"./ca.js":921,"./cs":7799,"./cs.js":7799,"./cv":2828,"./cv.js":2828,"./cy":3521,"./cy.js":3521,"./da":6962,"./da.js":6962,"./de":3294,"./de-at":6158,"./de-at.js":6158,"./de-ch":5960,"./de-ch.js":5960,"./de.js":3294,"./dv":7963,"./dv.js":7963,"./el":3432,"./el.js":3432,"./en-au":998,"./en-au.js":998,"./en-ca":5931,"./en-ca.js":5931,"./en-gb":5930,"./en-gb.js":5930,"./en-ie":8081,"./en-ie.js":8081,"./en-il":1594,"./en-il.js":1594,"./en-in":3904,"./en-in.js":3904,"./en-nz":1507,"./en-nz.js":1507,"./en-sg":9409,"./en-sg.js":9409,"./eo":2177,"./eo.js":2177,"./es":4805,"./es-do":9155,"./es-do.js":9155,"./es-mx":9791,"./es-mx.js":9791,"./es-us":6098,"./es-us.js":6098,"./es.js":4805,"./et":6240,"./et.js":6240,"./eu":391,"./eu.js":391,"./fa":612,"./fa.js":612,"./fi":4220,"./fi.js":4220,"./fil":5570,"./fil.js":5570,"./fo":5466,"./fo.js":5466,"./fr":4461,"./fr-ca":6306,"./fr-ca.js":6306,"./fr-ch":7081,"./fr-ch.js":7081,"./fr.js":4461,"./fy":3484,"./fy.js":3484,"./ga":6957,"./ga.js":6957,"./gd":2978,"./gd.js":2978,"./gl":9866,"./gl.js":9866,"./gom-deva":5011,"./gom-deva.js":5011,"./gom-latn":4724,"./gom-latn.js":4724,"./gu":1601,"./gu.js":1601,"./he":9802,"./he.js":9802,"./hi":9358,"./hi.js":9358,"./hr":3907,"./hr.js":3907,"./hu":218,"./hu.js":218,"./hy-am":533,"./hy-am.js":533,"./id":2844,"./id.js":2844,"./is":7353,"./is.js":7353,"./it":6364,"./it-ch":774,"./it-ch.js":774,"./it.js":6364,"./ja":6008,"./ja.js":6008,"./jv":8221,"./jv.js":8221,"./ka":2417,"./ka.js":2417,"./kk":2071,"./kk.js":2071,"./km":6149,"./km.js":6149,"./kn":4572,"./kn.js":4572,"./ko":659,"./ko.js":659,"./ku":6285,"./ku-kmr":9398,"./ku-kmr.js":9398,"./ku.js":6285,"./ky":1609,"./ky.js":1609,"./lb":119,"./lb.js":119,"./lo":1748,"./lo.js":1748,"./lt":1973,"./lt.js":1973,"./lv":1347,"./lv.js":1347,"./me":3023,"./me.js":3023,"./mi":5747,"./mi.js":5747,"./mk":4341,"./mk.js":4341,"./ml":3840,"./ml.js":3840,"./mn":2058,"./mn.js":2058,"./mr":9182,"./mr.js":9182,"./ms":5197,"./ms-my":9136,"./ms-my.js":9136,"./ms.js":5197,"./mt":6408,"./mt.js":6408,"./my":1683,"./my.js":1683,"./nb":3141,"./nb.js":3141,"./ne":9344,"./ne.js":9344,"./nl":4703,"./nl-be":4641,"./nl-be.js":4641,"./nl.js":4703,"./nn":9873,"./nn.js":9873,"./oc-lnc":1217,"./oc-lnc.js":1217,"./pa-in":4612,"./pa-in.js":4612,"./pl":4457,"./pl.js":4457,"./pt":1089,"./pt-br":9146,"./pt-br.js":9146,"./pt.js":1089,"./ro":5950,"./ro.js":5950,"./ru":7292,"./ru.js":7292,"./sd":6774,"./sd.js":6774,"./se":7493,"./se.js":7493,"./si":3761,"./si.js":3761,"./sk":9711,"./sk.js":9711,"./sl":8558,"./sl.js":8558,"./sq":8633,"./sq.js":8633,"./sr":688,"./sr-cyrl":7903,"./sr-cyrl.js":7903,"./sr.js":688,"./ss":1991,"./ss.js":1991,"./sv":7020,"./sv.js":7020,"./sw":5891,"./sw.js":5891,"./ta":5714,"./ta.js":5714,"./te":206,"./te.js":206,"./tet":4768,"./tet.js":4768,"./tg":8276,"./tg.js":8276,"./th":7977,"./th.js":7977,"./tk":6928,"./tk.js":6928,"./tl-ph":8046,"./tl-ph.js":8046,"./tlh":1361,"./tlh.js":1361,"./tr":4367,"./tr.js":4367,"./tzl":627,"./tzl.js":627,"./tzm":2636,"./tzm-latn":8148,"./tzm-latn.js":8148,"./tzm.js":2636,"./ug-cn":8823,"./ug-cn.js":8823,"./uk":461,"./uk.js":461,"./ur":1366,"./ur.js":1366,"./uz":3454,"./uz-latn":8374,"./uz-latn.js":8374,"./uz.js":3454,"./vi":8572,"./vi.js":8572,"./x-pseudo":464,"./x-pseudo.js":464,"./yo":3709,"./yo.js":3709,"./zh-cn":5873,"./zh-cn.js":5873,"./zh-hk":7549,"./zh-hk.js":7549,"./zh-mo":2240,"./zh-mo.js":2240,"./zh-tw":405,"./zh-tw.js":405};function r(e){var t=o(e);return a(t)}function o(e){if(!a.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}r.keys=function(){return Object.keys(s)},r.resolve=o,e.exports=r,r.id=5358},3008:function(e,t,a){"use strict";var s=a(5130),r=a(6768);const o={id:"app"};function l(e,t,a,s,l,n){const i=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",o,[(0,r.bF)(i)])}var n={name:"App"},i=a(1241);const d=(0,i.A)(n,[["render",l]]);var c=d,u=a(1387),p=a(4232),m=a.p+"img/logo.90fbf14d.jpg";const g={class:"flex items-center justify-center min-h-screen bg-gradient-to-r from-purple-200 to-indigo-300"},b={class:"w-full max-w-md p-8 bg-white rounded-lg shadow-lg"},f={class:"mb-6"},h={class:"mb-6"},y={key:0},v={key:1},x={class:"mt-6 text-center"},k={class:"mt-4 text-center border-t p-2"},L={key:0,class:"mt-4 text-red-600 text-center"};function w(e,t,a,o,l,n){const i=(0,r.g2)("Button"),d=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",g,[t[9]||(t[9]=(0,r.Lk)("div",{class:"w-full max-w-md p-8 bg-white shadow-lg"},[(0,r.Lk)("img",{src:m,alt:"Profile Picture",class:"w-full h-full border-4 border-white object-cover"})],-1)),(0,r.Lk)("div",b,[t[7]||(t[7]=(0,r.Lk)("h2",{class:"text-4xl font-bold text-center mb-6 text-indigo-700 drop-shadow-md"},"Welcome Back!",-1)),t[8]||(t[8]=(0,r.Lk)("p",{class:"text-center text-gray-600 mb-8"},"Please sign in to your account",-1)),e.grades?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("form",{key:0,onSubmit:t[2]||(t[2]=(0,s.D$)(((...e)=>n.UserLogin&&n.UserLogin(...e)),["prevent"]))},[(0,r.Lk)("div",f,[t[3]||(t[3]=(0,r.Lk)("label",{for:"username",class:"block text-sm font-semibold text-gray-800"},"Username",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e),id:"username",placeholder:"Enter your username",class:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition duration-150"},null,512),[[s.Jo,l.username]])]),(0,r.Lk)("div",h,[t[4]||(t[4]=(0,r.Lk)("label",{for:"password",class:"block text-sm font-semibold text-gray-800"},"Password",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),id:"password",type:"password",placeholder:"Enter your password",class:"mt-1 block w-full px-4 py-3 border border-gray-300 rounded-lg shadow-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition duration-150"},null,512),[[s.Jo,l.password]])]),(0,r.bF)(i,{type:"submit",class:"w-full bg-indigo-600 text-white py-3 rounded-lg hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition duration-150 font-semibold shadow-lg",disabled:l.isSubmitting},{default:(0,r.k6)((()=>[l.isSubmitting?((0,r.uX)(),(0,r.CE)("span",y,"Logging in...")):((0,r.uX)(),(0,r.CE)("span",v,"Login"))])),_:1},8,["disabled"]),(0,r.Lk)("div",x,[(0,r.bF)(d,{to:"/register",class:"text-sm text-indigo-600 hover:underline"},{default:(0,r.k6)((()=>t[5]||(t[5]=[(0,r.eW)("Create an Account")]))),_:1})]),(0,r.Lk)("div",k,[(0,r.bF)(d,{to:"/view-grades",class:"text-sm text-gray-600 hover:underline mt-2"},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)("View Grades")]))),_:1})]),l.errorMessage?((0,r.uX)(),(0,r.CE)("p",L,(0,p.v_)(l.errorMessage),1)):(0,r.Q3)("",!0)],32))])])}a(4114);var S=a(4373);const C=["type","disabled"];function _(e,t,a,s,o,l){return(0,r.uX)(),(0,r.CE)("button",{type:a.type,class:(0,p.C4)(["button",a.className]),disabled:a.disabled,onClick:t[0]||(t[0]=(...e)=>l.handleClick&&l.handleClick(...e))},[(0,r.RG)(e.$slots,"default",{},(()=>[(0,r.eW)((0,p.v_)(a.label),1)]),!0)],10,C)}var j={name:"ButtonComponent",props:{type:{type:String,default:"button"},label:{type:String,default:""},className:{type:String,default:""},disabled:{type:Boolean,default:!1}},methods:{handleClick(e){this.$emit("click",e)}}};const E=(0,i.A)(j,[["render",_],["__scopeId","data-v-41bd1e3c"]]);var A=E,I={components:{Button:A},data(){return{username:"",password:"",errorMessage:"",isSubmitting:!1}},methods:{async UserLogin(){this.isSubmitting=!0;try{const e=await S.A.post("https://api.nemsu-grading.online/api/auth/local?populate[user_permission]=*",{identifier:this.username,password:this.password}),{jwt:t}=e.data;let a={method:"get",maxBodyLength:1/0,url:"https://api.nemsu-grading.online/api/users/me?populate=*",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}};const s=await S.A.request(a);if(0==s.data.activated||null==s.data.activated)return void alert("User's account not yet activated");sessionStorage.setItem("jwt",t),sessionStorage.setItem("role",s.data.role.type),sessionStorage.setItem("profile",JSON.stringify(s.data)),this.$router.push("/dashboard")}catch(e){this.errorMessage="Login failed. Please try again."}finally{this.isSubmitting=!1}}}};const F=(0,i.A)(I,[["render",w],["__scopeId","data-v-43cf04da"]]);var R=F;const U={class:"flex h-screen bg-gray-100"},M={class:"p-4"},P={class:"mt-6 space-y-2"},V={key:0},N={key:1},X={key:2},$={key:3},D={key:4},Y={key:5},B={class:"flex-1 flex flex-col"},T={class:"flex-1 flex justify-center p-6 overflow-x-auto"},z={class:"w-full h-100%"},O={key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center"},J={class:"bg-white p-6 rounded-lg shadow-lg"},W={class:"flex justify-end space-x-4"};function G(e,t,a,s,o,l){const n=(0,r.g2)("router-link"),i=(0,r.g2)("bread-crumb"),d=(0,r.g2)("router-view");return(0,r.uX)(),(0,r.CE)("div",U,[(0,r.Lk)("aside",{class:(0,p.C4)(["w-40 bg-blue-600 text-white flex-shrink-0 transition-transform duration-300",{"translate-x-0":o.showSidebar,"-translate-x-40":!o.showSidebar}])},[(0,r.Lk)("div",M,[t[14]||(t[14]=(0,r.Lk)("img",{src:m,alt:"School Logo",class:"h-30 w-full"},null,-1)),(0,r.Lk)("ul",P,[(0,r.Lk)("li",null,[(0,r.bF)(n,{to:"/dashboard/home",class:(0,p.C4)(["block px-4 py-2 rounded",{"bg-white text-black":l.isActive("/dashboard/home"),"text-gray-200 hover:bg-gray-700":!l.isActive("/dashboard/home")}])},{default:(0,r.k6)((()=>t[3]||(t[3]=[(0,r.eW)(" Home ")]))),_:1},8,["class"])]),(0,r.Lk)("li",null,["evaluator"!==o.role?((0,r.uX)(),(0,r.Wv)(n,{key:0,to:"/dashboard/profile",class:(0,p.C4)(["block px-4 py-2 rounded",{"bg-white text-black":l.isActive("/dashboard/profile"),"text-gray-200 hover:bg-gray-700":!l.isActive("/dashboard/profile")}])},{default:(0,r.k6)((()=>t[4]||(t[4]=[(0,r.eW)(" Profile ")]))),_:1},8,["class"])):(0,r.Q3)("",!0)]),t[11]||(t[11]=(0,r.Lk)("div",{class:"w-full border-t-2"},null,-1)),"admin"===o.role?((0,r.uX)(),(0,r.CE)("li",V,[(0,r.bF)(n,{to:"/dashboard/settings",class:(0,p.C4)(["block px-4 py-2 rounded",{"bg-white text-black":l.isActive("/dashboard/settings"),"text-gray-200 hover:bg-gray-700":!l.isActive("/dashboard/settings")}])},{default:(0,r.k6)((()=>t[5]||(t[5]=[(0,r.eW)(" Settings ")]))),_:1},8,["class"])])):(0,r.Q3)("",!0),"admin"===o.role||"evaluator"===o.role?((0,r.uX)(),(0,r.CE)("li",N,[(0,r.bF)(n,{to:"/dashboard/program",class:(0,p.C4)(["block px-4 py-2 rounded",{"bg-white text-black":l.isActive("/dashboard/program"),"text-gray-200 hover:bg-gray-700":!l.isActive("/dashboard/program")}])},{default:(0,r.k6)((()=>t[6]||(t[6]=[(0,r.eW)(" Program ")]))),_:1},8,["class"])])):(0,r.Q3)("",!0),"admin"===o.role||"instructor"===o.role?((0,r.uX)(),(0,r.CE)("li",X,[(0,r.bF)(n,{to:"/dashboard/student",class:(0,p.C4)(["block px-4 py-2 rounded",{"bg-white text-black":l.isActive("/dashboard/student"),"text-gray-200 hover:bg-gray-700":!l.isActive("/dashboard/student")}])},{default:(0,r.k6)((()=>t[7]||(t[7]=[(0,r.eW)(" Student ")]))),_:1},8,["class"])])):(0,r.Q3)("",!0),"admin"===o.role||"instructor"==o.role?((0,r.uX)(),(0,r.CE)("li",$,[(0,r.bF)(n,{to:"/dashboard/grading",class:(0,p.C4)(["block px-4 py-2 rounded",{"bg-white text-black":l.isActive("/dashboard/grading"),"text-gray-200 hover:bg-gray-700":!l.isActive("/dashboard/grading")}])},{default:(0,r.k6)((()=>t[8]||(t[8]=[(0,r.eW)(" Grading ")]))),_:1},8,["class"])])):(0,r.Q3)("",!0),"admin"===o.role?((0,r.uX)(),(0,r.CE)("li",D,[(0,r.bF)(n,{to:"/dashboard/account",class:(0,p.C4)(["block px-4 py-2 rounded",{"bg-white text-black":l.isActive("/dashboard/account"),"text-gray-200 hover:bg-gray-700":!l.isActive("/dashboard/account")}])},{default:(0,r.k6)((()=>t[9]||(t[9]=[(0,r.eW)(" Account ")]))),_:1},8,["class"])])):(0,r.Q3)("",!0),"evaluator"===o.role?((0,r.uX)(),(0,r.CE)("li",Y,[(0,r.bF)(n,{to:"/dashboard/evaluation",class:(0,p.C4)(["block px-4 py-2 rounded",{"bg-white text-black":l.isActive("/dashboard/evaluation"),"text-gray-200 hover:bg-gray-700":!l.isActive("/dashboard/evaluation")}])},{default:(0,r.k6)((()=>t[10]||(t[10]=[(0,r.eW)(" Evaluation ")]))),_:1},8,["class"])])):(0,r.Q3)("",!0),t[12]||(t[12]=(0,r.Lk)("li",{class:"mt-6 self-baseline"},null,-1))]),(0,r.Lk)("button",{onClick:t[0]||(t[0]=e=>o.showLogoutModal=!0),class:"fixed m-2 bottom-0 left-2 px-4 py-2 rounded hover:bg-white hover:text-black text-white w-[80%] z-50 items-center justify-center flex gap-2"},t[13]||(t[13]=[(0,r.Fv)('<svg fill="#000000" height="24px" width="24px" version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 384.971 384.971" xml:space="preserve" transform="matrix(1, 0, 0, 1, 0, 0)" stroke="#000000" stroke-width="12.319072" data-v-23236dd5><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-23236dd5></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-23236dd5></g><g id="SVGRepo_iconCarrier" data-v-23236dd5><g data-v-23236dd5><g id="Sign_Out" data-v-23236dd5><path d="M180.455,360.91H24.061V24.061h156.394c6.641,0,12.03-5.39,12.03-12.03s-5.39-12.03-12.03-12.03H12.03 C5.39,0.001,0,5.39,0,12.031V372.94c0,6.641,5.39,12.03,12.03,12.03h168.424c6.641,0,12.03-5.39,12.03-12.03 C192.485,366.299,187.095,360.91,180.455,360.91z" data-v-23236dd5></path> <path d="M381.481,184.088l-83.009-84.2c-4.704-4.752-12.319-4.74-17.011,0c-4.704,4.74-4.704,12.439,0,17.179l62.558,63.46H96.279 c-6.641,0-12.03,5.438-12.03,12.151c0,6.713,5.39,12.151,12.03,12.151h247.74l-62.558,63.46c-4.704,4.752-4.704,12.439,0,17.179 c4.704,4.752,12.319,4.752,17.011,0l82.997-84.2C386.113,196.588,386.161,188.756,381.481,184.088z" data-v-23236dd5></path></g> <g data-v-23236dd5></g> <g data-v-23236dd5></g> <g data-v-23236dd5></g> <g data-v-23236dd5></g> <g data-v-23236dd5></g> <g data-v-23236dd5></g></g></g></svg> Logout ',2)]))])],2),(0,r.Lk)("main",B,[(0,r.bF)(i),(0,r.Lk)("div",T,[(0,r.Lk)("div",z,[(0,r.bF)(d)])])]),o.showLogoutModal?((0,r.uX)(),(0,r.CE)("div",O,[(0,r.Lk)("div",J,[t[15]||(t[15]=(0,r.Lk)("h3",{class:"text-lg font-semibold mb-4"},"Do you want to logout?",-1)),(0,r.Lk)("div",W,[(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>l.handleLogout&&l.handleLogout(...e)),class:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700"},"Yes"),(0,r.Lk)("button",{onClick:t[2]||(t[2]=e=>o.showLogoutModal=!1),class:"px-4 py-2 bg-gray-300 text-gray-800 rounded hover:bg-gray-400"},"Cancel")])])])):(0,r.Q3)("",!0)])}const q={class:"m-5","aria-label":"breadcrumb"},K={class:"flex space-x-2"},Q={key:1,class:"text-gray-500"};function H(e,t,a,s,o,l){const n=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("nav",q,[(0,r.Lk)("ol",K,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.breadcrumbs,((e,t)=>((0,r.uX)(),(0,r.CE)("li",{key:t},[t!==l.breadcrumbs.length-1?((0,r.uX)(),(0,r.Wv)(n,{key:0,to:e.path,class:"text-blue-600 hover:underline"},{default:(0,r.k6)((()=>[(0,r.eW)((0,p.v_)(e.name),1)])),_:2},1032,["to"])):((0,r.uX)(),(0,r.CE)("span",Q,(0,p.v_)(e.name),1))])))),128))])])}var Z={computed:{breadcrumbs(){let e=this.$route.path.split("/");return e.shift(),e.map(((t,a)=>({name:t.charAt(0).toUpperCase()+t.slice(1),path:"/"+e.slice(0,a+1).join("/")})))}}};const ee=(0,i.A)(Z,[["render",H],["__scopeId","data-v-a21b9382"]]);var te=ee,ae={components:{BreadCrumb:te},name:"DashBoard",data(){return{role:"",showSidebar:!0,showLogoutModal:!1,c:""}},methods:{toggleSidebar(){this.showSidebar=!this.showSidebar},isActive(e){return this.$route.path===e},handleLogout(){sessionStorage.removeItem("jwt"),this.$router.push("/signin")},mounted(){this.role=sessionStorage.getItem("role"),console.log("asdas",sessionStorage.getItem("profile"))}},mounted(){this.role=sessionStorage.getItem("role"),console.log("asdas",sessionStorage.getItem("profile"));var e=this;let t=JSON.parse(sessionStorage.getItem("profile"));e.profileName=t.fname}};const se=(0,i.A)(ae,[["render",G],["__scopeId","data-v-23236dd5"]]);var re=se;const oe={class:"max-w-4xl mx-auto p-6 bg-white rounded-lg shadow-lg"};function le(e,t,a,s,o,l){return(0,r.uX)(),(0,r.CE)("div",oe,t[0]||(t[0]=[(0,r.Fv)('<div class="text-center mb-6" data-v-8986b432><img src="'+m+'" alt="NEMSU University Logo" class="h-24 mx-auto" data-v-8986b432></div><h2 class="text-4xl font-bold text-center mb-6" data-v-8986b432>Welcome to NEMSU University Dashboard</h2><p class="text-lg text-gray-700 text-center mb-8" data-v-8986b432> Your academic journey starts here! Stay updated with announcements, view your grades, and access resources all in one place. </p><div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6" data-v-8986b432><div class="bg-gray-100 p-4 rounded-lg border border-gray-200" data-v-8986b432><h3 class="text-2xl font-semibold mb-3" data-v-8986b432>Key Features</h3><ul class="list-disc list-inside text-gray-700" data-v-8986b432><li data-v-8986b432>View your academic performance and grades.</li><li data-v-8986b432>Stay informed with university announcements.</li><li data-v-8986b432>Access important resources and tools.</li><li data-v-8986b432>Connect with faculty and peers.</li></ul></div><div class="bg-gray-100 p-4 rounded-lg border border-gray-200" data-v-8986b432><h3 class="text-2xl font-semibold mb-3" data-v-8986b432>Upcoming Events</h3><ul class="list-disc list-inside text-gray-700" data-v-8986b432><li data-v-8986b432>November 10th: Guest Lecture Series</li><li data-v-8986b432>November 20th: Sports Day</li><li data-v-8986b432>December 15th: End-of-Semester Celebration</li></ul></div></div><div class="bg-white p-4 rounded-lg border border-gray-200 mb-6 shadow" data-v-8986b432><h3 class="text-2xl font-semibold mb-3" data-v-8986b432>Important Announcements</h3><ul class="list-decimal list-inside text-gray-700" data-v-8986b432><li data-v-8986b432>New semester registration starts on October 25th.</li><li data-v-8986b432>Join us for the upcoming university fair on November 5th.</li><li data-v-8986b432>Submit your project reports by December 1st.</li></ul></div><footer class="text-center text-gray-500 text-sm" data-v-8986b432><p data-v-8986b432>Â© 2024 NEMSU University. All rights reserved.</p></footer>',6)]))}var ne={name:"HomeComponent"};const ie=(0,i.A)(ne,[["render",le],["__scopeId","data-v-8986b432"]]);var de=ie;const ce={class:"container mx-auto p-6"},ue={class:"bg-blue-500 h-32 rounded-lg mb-6 relative"},pe={class:"absolute bottom-0 left-0 right-0 flex flex-col items-center pb-4"},me=["src"],ge={class:"bg-white p-6 rounded-lg shadow-md text-[12px]"},be={class:"flex items-center justify-between mb-4"},fe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},he={class:"flex flex-col"},ye=["disabled"],ve={class:"flex flex-col"},xe=["disabled"],ke={class:"flex flex-col"},Le=["disabled"],we={class:"flex flex-col"},Se=["disabled"],Ce={class:"flex flex-col"},_e=["disabled"],je={class:"flex flex-col"},Ee=["disabled"],Ae={class:"flex flex-col"},Ie=["disabled"],Fe={class:"flex flex-col"},Re=["disabled"],Ue={class:"flex flex-col"},Me=["disabled"],Pe={class:"flex flex-col"},Ve=["disabled"],Ne={class:"flex flex-col"},Xe={class:"flex items-center mt-1"},$e=["disabled"],De={class:"text-gray-800"};function Ye(e,t,a,o,l,n){const i=(0,r.g2)("loading-component");return(0,r.uX)(),(0,r.CE)("div",ce,[(0,r.bF)(i,{isLoading:l.isLoading},null,8,["isLoading"]),(0,r.Lk)("div",ue,[(0,r.Lk)("div",pe,[(0,r.Lk)("div",{class:"bg-gray-100 p-2 rounded-full shadow-md border-2 border-gray-300 cursor-pointer",onClick:t[1]||(t[1]=(...e)=>n.triggerFileInput&&n.triggerFileInput(...e))},[(0,r.Lk)("img",{src:l.profPicture,alt:"Profile Picture",class:"w-24 h-24 rounded-full object-cover hover:scale-90 hover:transition-transform"},null,8,me),(0,r.Lk)("input",{type:"file",onChange:t[0]||(t[0]=(...e)=>n.onFileSelected&&n.onFileSelected(...e)),accept:"image/*",class:"hidden",ref:"fileInput"},null,544)]),l.selectedFile?((0,r.uX)(),(0,r.CE)("p",{key:0,onClick:t[2]||(t[2]=(...e)=>n.uploadFile&&n.uploadFile(...e)),class:"hover:bg-blue-600 cursor-pointer hover:border"},t[15]||(t[15]=[(0,r.Fv)('<svg width="30" height="30" fill="white" viewBox="0 0 32 32" version="1.1" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><title>save</title><path d="M9.467 3.106h3.030c0.266 0 0.482 0.278 0.482 0.621v4.374c0 0.343-0.216 0.621-0.482 0.621h-3.030c-0.266 0-0.482-0.278-0.482-0.621v-4.374c0-0.343 0.216-0.621 0.482-0.621zM21.964 14.524l7.987 7.987h-3.993v7.987h-7.987v-7.987h-3.993l7.987-7.987zM17.422 24.768h-10.309c-0.276 0-0.499-0.223-0.499-0.499v-11.481c0-0.276 0.223-0.499 0.499-0.499h17.721c0.276 0 0.499 0.223 0.499 0.499v4.402l3.12 3.12v-13.262c0-0.276-4.216-4.493-4.493-4.493h-4.741c0.169 0.069 0.287 0.223 0.287 0.404v6.181c0 0.244-0.216 0.442-0.482 0.442h-10.594c-0.266 0-0.482-0.198-0.482-0.442v-6.181c0-0.18 0.118-0.335 0.287-0.404h-4.242c-0.277 0-0.499 0.223-0.499 0.499v23.961c0 0.277 0.223 0.499 0.499 0.499h13.429v-2.746zM26.506 22.903v4.611h1.449c0.277 0 0.499-0.223 0.499-0.499v-4.111l-1.948 0z"></path></g></svg>',1)]))):(0,r.Q3)("",!0)])]),(0,r.Lk)("div",ge,[(0,r.Lk)("div",be,[t[16]||(t[16]=(0,r.Lk)("h2",{class:"text-2xl font-bold"},"Profile",-1)),(0,r.Lk)("button",{onClick:t[3]||(t[3]=(...e)=>n.toggleEdit&&n.toggleEdit(...e)),class:"bg-indigo-500 text-white px-4 py-2 rounded-md"},(0,p.v_)(l.isEditing?"Save":"Edit"),1)]),(0,r.Lk)("div",fe,[(0,r.Lk)("div",he,[t[17]||(t[17]=(0,r.Lk)("label",{for:"idNo",class:"text-sm font-medium text-gray-700"},"Id No:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"idNo",class:"mt-1 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500","onUpdate:modelValue":t[4]||(t[4]=e=>l.profile.idNo=e),disabled:!l.isEditing},null,8,ye),[[s.Jo,l.profile.idNo]])]),(0,r.Lk)("div",ve,[t[18]||(t[18]=(0,r.Lk)("label",{for:"username",class:"text-sm font-medium text-gray-700"},"Username:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"username",class:"mt-1 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500","onUpdate:modelValue":t[5]||(t[5]=e=>l.profile.username=e),disabled:!l.isEditing},null,8,xe),[[s.Jo,l.profile.username]])]),(0,r.Lk)("div",ke,[t[19]||(t[19]=(0,r.Lk)("label",{for:"email",class:"text-sm font-medium text-gray-700"},"Email:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email",class:"mt-1 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500","onUpdate:modelValue":t[6]||(t[6]=e=>l.profile.email=e),disabled:!l.isEditing},null,8,Le),[[s.Jo,l.profile.email]])]),(0,r.Lk)("div",we,[t[20]||(t[20]=(0,r.Lk)("label",{for:"firstName",class:"text-sm font-medium text-gray-700"},"First Name:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"firstName",class:"mt-1 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500","onUpdate:modelValue":t[7]||(t[7]=e=>l.profile.fname=e),disabled:!l.isEditing},null,8,Se),[[s.Jo,l.profile.fname]])]),(0,r.Lk)("div",Ce,[t[21]||(t[21]=(0,r.Lk)("label",{for:"lastName",class:"text-sm font-medium text-gray-700"},"Last Name:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"lastName",class:"mt-1 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500","onUpdate:modelValue":t[8]||(t[8]=e=>l.profile.lname=e),disabled:!l.isEditing},null,8,_e),[[s.Jo,l.profile.lname]])]),(0,r.Lk)("div",je,[t[22]||(t[22]=(0,r.Lk)("label",{for:"middleName",class:"text-sm font-medium text-gray-700"},"Middle Name:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"middleName",class:"mt-1 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500","onUpdate:modelValue":t[9]||(t[9]=e=>l.profile.mname=e),disabled:!l.isEditing},null,8,Ee),[[s.Jo,l.profile.mname]])]),(0,r.Lk)("div",Ae,[t[24]||(t[24]=(0,r.Lk)("label",{for:"gender",class:"text-sm font-medium text-gray-700"},"Gender:",-1)),(0,r.bo)((0,r.Lk)("select",{id:"gender",class:"mt-1 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500","onUpdate:modelValue":t[10]||(t[10]=e=>l.profile.gender=e),disabled:!l.isEditing},t[23]||(t[23]=[(0,r.Lk)("option",{value:"Male"},"Male",-1),(0,r.Lk)("option",{value:"Female"},"Female",-1),(0,r.Lk)("option",{value:"Other"},"Other",-1)]),8,Ie),[[s.u1,l.profile.gender]])]),(0,r.Lk)("div",Fe,[t[25]||(t[25]=(0,r.Lk)("label",{for:"phoneNo",class:"text-sm font-medium text-gray-700"},"Phone Number:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"phoneNo",class:"mt-1 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500","onUpdate:modelValue":t[11]||(t[11]=e=>l.profile.phone_no=e),disabled:!l.isEditing},null,8,Re),[[s.Jo,l.profile.phone_no]])]),(0,r.Lk)("div",Ue,[t[26]||(t[26]=(0,r.Lk)("label",{for:"birthdate",class:"text-sm font-medium text-gray-700"},"Birthdate:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"date",id:"birthdate",class:"mt-1 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500","onUpdate:modelValue":t[12]||(t[12]=e=>l.profile.bdate=e),disabled:!l.isEditing},null,8,Me),[[s.Jo,l.profile.bdate]])]),(0,r.Lk)("div",Pe,[t[27]||(t[27]=(0,r.Lk)("label",{for:"address",class:"text-sm font-medium text-gray-700"},"Address:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"address",class:"mt-1 p-2 border border-gray-300 rounded-md focus:outline-none focus:ring-indigo-500 focus:border-indigo-500","onUpdate:modelValue":t[13]||(t[13]=e=>l.profile.address=e),disabled:!l.isEditing},null,8,Ve),[[s.Jo,l.profile.address]])]),(0,r.Lk)("div",Ne,[t[28]||(t[28]=(0,r.Lk)("label",{for:"blocked",class:"text-sm font-medium text-gray-700"},"Deactivate Account:",-1)),(0,r.Lk)("div",Xe,[(0,r.bo)((0,r.Lk)("input",{type:"checkbox",id:"blocked",class:"mr-2 h-5 w-5 border-gray-300 rounded focus:ring-blue-500","onUpdate:modelValue":t[14]||(t[14]=e=>l.profile.blocked=e),disabled:!l.isEditing},null,8,$e),[[s.lH,l.profile.blocked]]),(0,r.Lk)("span",De,(0,p.v_)(l.profile.blocked?"Account is Deactivated":"Account is Active"),1)])])])])])}const Be={key:0,class:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50"};function Te(e,t,a,s,o,l){return a.isLoading?((0,r.uX)(),(0,r.CE)("div",Be,t[0]||(t[0]=[(0,r.Lk)("div",{class:"loader"},[(0,r.Lk)("svg",{class:"animate-spin h-16 w-16 text-blue-500",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[(0,r.Lk)("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),(0,r.Lk)("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 0115.5-1.5A5.5 5.5 0 018 12H4z"})])],-1)]))):(0,r.Q3)("",!0)}var ze={props:{isLoading:{type:Boolean,default:!1}}};const Oe=(0,i.A)(ze,[["render",Te],["__scopeId","data-v-d77a3076"]]);var Je=Oe,We=a(4084),Ge={components:{LoadingComponent:Je},name:"ProfileComponent",data(){return{isLoading:!1,profileId:"",selectedFile:null,token:"",profile:{idNo:"",username:"",email:"",firstName:"",lastName:"",middleName:"",gender:"",phoneNo:"",bdate:"",createdAt:"",updatedAt:"",address:"",provider:"",confirmed:!1,blocked:!1,profilePicture:"https://api.nemsu-grading.online/uploads/23_5768fecede.png"},profPicture:"",originalProfile:{},isEditing:!1,profilePic:"https://via.placeholder.com/100?text=Profile+Pic",headerImage:"@assets/logo.jpg",file:null}},mounted(){const e=JSON.parse(sessionStorage.getItem("profile"));this.profileId=e.id,this.token=sessionStorage.getItem("jwt"),this.loadProfile(),this.fetchFiles()},methods:{triggerFileInput(){this.$refs.fileInput.click()},onFileSelected(e){const t=e.target.files[0];if(t){this.selectedFile=t;const e=new FileReader;e.readAsDataURL(t),e.onload=()=>{this.profPicture=e.result},e.onerror=e=>{console.error("Error loading image:",e)}}},async uploadFile(){const e=this.selectedFile,t=new FormData,a=JSON.parse(sessionStorage.getItem("profile")).id;console.log("profile",this.profile.profilePicture[0]);try{await S.A.delete(`https://api.nemsu-grading.online/api/upload/files/${this.profile.profilePicture[0].id}`)}catch(s){}t.append("files",e,a+".png"),await fetch("https://api.nemsu-grading.online/api/upload/",{method:"POST",body:t}),this.fetchFiles(),We.oR.success("Profile Picture Updated"),this.selectedFile=null},async fetchFiles(){try{const e={method:"get",maxBodyLength:1/0,url:"https://api.nemsu-grading.online/api/upload/files/"},t=await S.A.request(e),a=JSON.parse(sessionStorage.getItem("profile")).id,s=t.data.reduce(((e,t)=>(t?.name==a+".png"&&e.push(t),e)),[])||[];this.profile.profilePicture=s,this.profPicture=`https://api.nemsu-grading.online${s[0].url}`,console.log(this.profPicture)}catch(e){console.error("Error fetching files:",e)}},toggleEdit(){this.isEditing?this.updateProfile():this.originalProfile={...this.profile},this.isEditing=!this.isEditing},handleFileUpload(e){console.log(e),this.profilePic=e.target.result},async updateProfile(){try{this.isLoading=!0;const e=new FormData;for(const[a,s]of Object.entries(this.profile))"role"!==a&&e.append(a,s);this.profile.profilePicture&&delete this.profile.profilePicture;const t=await S.A.put(`https://api.nemsu-grading.online/api/users/${this.profileId}`,e,{headers:{Authorization:`Bearer ${this.token}`,"Content-Type":"multipart/form-data"}});200===t.status?(alert("Profile updated successfully!"),this.loadProfile()):alert("Failed to update profile.")}catch(e){console.error("Error updating profile:",e),this.profile={...this.originalProfile},alert("Error updating profile. Changes reverted.")}finally{this.isLoading=!1}},async loadProfile(){try{this.isLoading=!0;const e=await S.A.get(`https://api.nemsu-grading.online/api/users/${this.profileId}`,{headers:{Authorization:`Bearer ${this.token}`}});200===e.status?(this.profile={...e.data},this.originalProfile={...this.profile},sessionStorage.setItem("profile",JSON.stringify(e.data)),this.profilePicture=this.profile.profilePic||"https://via.placeholder.com/100?text=Profile+Pic"):alert("Failed to load profile.")}catch(e){console.error("Error loading profile:",e),alert("Error loading profile.")}finally{this.isLoading=!1}}}};const qe=(0,i.A)(Ge,[["render",Ye]]);var Ke=qe;const Qe={class:"manage-school-year"},He={class:"table-auto border-collapse border border-gray-300 w-full text-[12px]"},Ze=["onClick"],et={class:"border border-gray-300 px-4 py-2"},tt={class:"border border-gray-300 px-4 py-2"},at={class:"border border-gray-300 px-4 py-2 align-middle items-center"},st=["checked"],rt={class:"ml-2"},ot={key:0,class:"modal-overlay"},lt={class:"modal"},nt={class:"ml-2"},it={class:"modal-buttons"};function dt(e,t,a,o,l,n){const i=(0,r.g2)("loading-component");return(0,r.uX)(),(0,r.CE)("div",Qe,[(0,r.bF)(i,{isLoading:l.isLoading},null,8,["isLoading"]),t[12]||(t[12]=(0,r.Lk)("h2",{class:"text-3xl font-bold text-center mb-6"},"Manage School Years",-1)),(0,r.Lk)("button",{onClick:t[0]||(t[0]=e=>l.showModal=!0),class:"btn-primary mb-4 bg-blue-600 text-[12px]"},"Add School Year"),(0,r.Lk)("table",He,[t[6]||(t[6]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",{class:"bg-gray-100"},[(0,r.Lk)("th",{class:"border border-gray-300 px-4 py-2"},"School Year"),(0,r.Lk)("th",{class:"border border-gray-300 px-4 py-2"},"Semester"),(0,r.Lk)("th",{class:"border border-gray-300 px-4 py-2"},"Active Status")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.schoolYears,(e=>((0,r.uX)(),(0,r.CE)("tr",{class:(0,p.C4)([{"bg-yellow-200":e.attributes.active},"hover:bg-blue-600 cursor-pointer"]),onClick:t=>n.toggleActiveStatus(e),key:e.id},[(0,r.Lk)("td",et,(0,p.v_)(e.attributes.year),1),(0,r.Lk)("td",tt,(0,p.v_)(e.attributes.sem),1),(0,r.Lk)("td",at,[(0,r.Lk)("input",{type:"checkbox",checked:e.attributes.active,class:"toggle-checkbox"},null,8,st),(0,r.Lk)("span",rt,(0,p.v_)(e.attributes.active?"Active":"Not Active"),1)])],10,Ze)))),128))])]),l.showModal?((0,r.uX)(),(0,r.CE)("div",ot,[(0,r.Lk)("div",lt,[t[11]||(t[11]=(0,r.Lk)("h3",{class:"text-xl font-bold mb-4"},"Add School Year",-1)),(0,r.Lk)("form",{class:"text-[12px]",onSubmit:t[5]||(t[5]=(0,s.D$)(((...e)=>n.addSchoolYear&&n.addSchoolYear(...e)),["prevent"]))},[t[8]||(t[8]=(0,r.Lk)("label",{for:"year"},"School Year:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>l.newSchoolYear.year=e),required:"",class:"input-field"},null,512),[[s.Jo,l.newSchoolYear.year]]),t[9]||(t[9]=(0,r.Lk)("label",{for:"sem"},"Semester:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>l.newSchoolYear.sem=e),required:"",class:"input-field"},null,512),[[s.Jo,l.newSchoolYear.sem]]),t[10]||(t[10]=(0,r.Lk)("label",{for:"active"},"Active Status:",-1)),(0,r.bo)((0,r.Lk)("input",{class:"cursor-pointer",type:"checkbox","onUpdate:modelValue":t[3]||(t[3]=e=>l.newSchoolYear.active=e)},null,512),[[s.lH,l.newSchoolYear.active]]),(0,r.Lk)("span",nt,(0,p.v_)(l.newSchoolYear.active?"Active":"Not Active"),1),(0,r.Lk)("div",it,[t[7]||(t[7]=(0,r.Lk)("button",{type:"submit",class:"btn-primary bg-blue-600"},"Add School Year",-1)),(0,r.Lk)("button",{onClick:t[4]||(t[4]=e=>l.showModal=!1),type:"button",class:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md"}," Cancel ")])],32)])])):(0,r.Q3)("",!0)])}var ct={components:{LoadingComponent:Je},name:"SchoolYearComponent",data(){return{isLoading:!1,schoolYears:[],showModal:!1,newSchoolYear:{year:"",sem:"",active:!1}}},methods:{async fetchSchoolYears(){try{this.isLoading=!0;const e=await S.A.get("https://api.nemsu-grading.online/api/school-years",{headers:{Authorization:`Bearer ${sessionStorage.getItem("jwt")}`}});this.schoolYears=e.data.data}catch(e){We.oR.error(e.response.data.error.message)}finally{this.isLoading=!1}},async toggleActiveStatus(e){e.attributes.active=!e.attributes.active;const t={data:{active:e.attributes.active}};try{this.isLoading=!0,await S.A.put(`https://api.nemsu-grading.online/api/school-years/${e.id}`,t,{headers:{Authorization:`Bearer ${sessionStorage.getItem("jwt")}`}}),We.oR.success(`School Year ${e.attributes.year} ${1==e.attributes.active?"Activated":"Disabled"} `)}catch(a){We.oR.error(a.response.data.error.message)}finally{this.isLoading=!1}},async addSchoolYear(){try{this.isLoading=!0;const e=await S.A.post("https://api.nemsu-grading.online/api/school-years",{data:this.newSchoolYear},{headers:{Authorization:`Bearer ${sessionStorage.getItem("jwt")}`}});this.schoolYears.push(e.data.data),this.newSchoolYear={year:"",sem:"",active:!1},this.showModal=!1,this.isLoading=!1,We.oR.success("School Year Added Successfully")}catch(e){We.oR.error(e.response.data.error.message),console.error("Error adding school year:",e)}}},created(){this.fetchSchoolYears()}};const ut=(0,i.A)(ct,[["render",dt],["__scopeId","data-v-49511761"]]);var pt=ut;const mt={class:"text-center p-8"};function gt(e,t,a,s,o,l){return(0,r.uX)(),(0,r.CE)("div",mt,[t[1]||(t[1]=(0,r.Lk)("h2",{class:"text-2xl font-bold mb-4"},"404 Not Found",-1)),t[2]||(t[2]=(0,r.Lk)("p",null,"The page you are looking for does not exist.",-1)),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>l.goBack&&l.goBack(...e)),class:"mt-4 px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition"}," Go Back ")])}var bt={name:"NotFound",methods:{goBack(){this.$router.go(-1)}}};const ft=(0,i.A)(bt,[["render",gt],["__scopeId","data-v-02d75e38"]]);var ht=ft;const yt={class:"table-container"},vt={class:"flex flex-row gap-2"},xt={class:"bold"},kt=["value"],Lt={key:0,class:"rename-modal"},wt={class:"rename-content"},St={key:1,class:"loading-modal"},Ct={class:"hot-table"},_t={key:2,class:"zoom-controls"};function jt(e,t,a,o,l,n){const i=(0,r.g2)("hot-table");return(0,r.uX)(),(0,r.CE)("div",yt,[(0,r.Lk)("div",vt,[(0,r.Lk)("small",xt,[t[9]||(t[9]=(0,r.eW)("Active: ")),(0,r.Lk)("strong",null,(0,p.v_)(e.activeSchoolYear.sem)+" SEM. A.Y. "+(0,p.v_)(e.activeSchoolYear.year),1)]),t[11]||(t[11]=(0,r.Lk)("label",{for:"file-select",class:"file-select-label"},"Select Class Records:",-1)),(0,r.bo)((0,r.Lk)("select",{id:"file-select","onUpdate:modelValue":t[0]||(t[0]=t=>e.selectedFile=t),onChange:t[1]||(t[1]=(...t)=>e.loadFile&&e.loadFile(...t)),class:"file-select"},[t[10]||(t[10]=(0,r.Lk)("option",{value:"",disabled:""},"Select a file",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(e.files,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.name,value:e},(0,p.v_)(e.name),9,kt)))),128))],544),[[s.u1,e.selectedFile]]),(0,r.Lk)("button",{onClick:t[2]||(t[2]=(...t)=>e.fetchDefaultExcel&&e.fetchDefaultExcel(...t)),class:"save-button"},"Class Record"),(0,r.Lk)("button",{onClick:t[3]||(t[3]=(...t)=>e.openRenameModal&&e.openRenameModal(...t)),class:"save-button"},"Save Changes"),(0,r.Lk)("button",{onClick:t[4]||(t[4]=(...t)=>e.submitToAdmin&&e.submitToAdmin(...t)),class:"save-button"},"Submit Grades"),e.selectedFile?.id?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t[5]||(t[5]=(...t)=>e.deleteFile&&e.deleteFile(...t)),class:"save-button"},"Delete File")):(0,r.Q3)("",!0)]),e.isRenameModalVisible?((0,r.uX)(),(0,r.CE)("div",Lt,[(0,r.Lk)("div",wt,[t[12]||(t[12]=(0,r.Lk)("h3",null,"Rename File",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=t=>e.newFileName=t),placeholder:"Save File?"},null,512),[[s.Jo,e.newFileName]]),(0,r.Lk)("button",{onClick:t[7]||(t[7]=(...t)=>e.renameFile&&e.renameFile(...t))},"Save"),(0,r.Lk)("button",{onClick:t[8]||(t[8]=(...t)=>e.closeRenameModal&&e.closeRenameModal(...t))},"Cancel")])])):(0,r.Q3)("",!0),e.loading?((0,r.uX)(),(0,r.CE)("div",St,t[13]||(t[13]=[(0,r.Lk)("div",{class:"loading-content"},[(0,r.Lk)("div",{class:"spinner"})],-1)]))):(0,r.Q3)("",!0),(0,r.Lk)("div",Ct,[(0,r.bF)(i,{ref:"hotTableRef",data:e.data,settings:e.hotSettings,rowHeaders:!0,colHeaders:!0,licenseKey:"non-commercial-and-evaluation",class:"overflow-auto"},null,8,["data","settings"])]),e.selectedFile?((0,r.uX)(),(0,r.CE)("div",_t)):(0,r.Q3)("",!0)])}a(6573),a(8100),a(7936),a(7467),a(4732),a(9577);var Et=a(144),At=a(4896),It=a(8687),Ft=a(3230),Rt=(a(9830),a(8611)),Ut=a(7093);(0,It.um)();var Mt=(0,r.pM)({components:{HotTable:At.sH},setup(){const e=(0,Et.KR)(null),t=(0,Et.KR)([]),a=(0,Et.KR)([]),s=(0,Et.KR)(""),r=(0,Et.KR)(null),o=(0,Et.KR)(1),l=(0,Et.KR)(!1),n=(0,Et.KR)(!1),i=(0,Et.KR)(""),d=(0,Et.KR)({}),c=(0,Et.KR)(`@${JSON.parse(sessionStorage.getItem("profile")).id}`),u=(0,Et.Kh)({row:null,col:null}),p=(e,t)=>{console.log(e,t),u.row=e,u.col=t},m=async t=>{const a=e.value.hotInstance;if(t&&t.length)for(const[e,r,o,l]of t)if(o!==l&&0===r&&e>9){const t=r+1;if(a&&void 0!==a.getDataAtCell(e,t)){a.setDataAtCell(e,t,"Loading...");try{const s=await g(l),r=`${s}`;a.setDataAtCell(e,t,"undefined"==r?"":r),a.setDataAtCell(e,27,"undefined"==r?"":r),a.setDataAtCell(e,53,a.getDataAtCell(e,0)),a.setDataAtCell(e,54,"undefined"==r?"":r)}catch(s){console.error("Error loading data:",s)}}}},g=async e=>{try{const t=sessionStorage.getItem("jwt"),a=await S.A.get(`https://api.nemsu-grading.online/api/students?filters[student_id][$eq]=${e}`,{headers:{Authorization:`Bearer ${t}`}});return`${a.data.data[0].attributes.lname}, ${a.data.data[0].attributes.fname} ${a.data.data[0].attributes.mname}`}catch(t){console.error("Error fetching students:",t)}},b=(0,Et.KR)({colHeaders:!0,rowHeaders:!0,mergeCells:!0,manualColumnMove:!0,manualColumnResize:!0,manualRowResize:!0,manualRowMove:!0,contextMenu:!0,hiddenColumns:{indicators:!0},formulas:{engine:Rt.f1},width:"100%",height:"100%",cells(){const e={};return e.renderer=F,e},afterChange:m,afterSelection:p}),f=()=>{r.value&&(i.value=r.value.name,n.value=!0)},h=()=>{n.value=!1},y=async()=>{n.value=!1,_()},v=async()=>{a.value=[];try{const e={method:"get",maxBodyLength:1/0,url:"https://api.nemsu-grading.online/api/upload/files/"},t=await S.A.request(e);a.value=t.data.reduce(((e,t)=>(t?.name.includes(c.value)&&!t?.name.includes("default")&&(t.name=t.name.replace(c.value,""),e.push(t)),e)),[])||[]}catch(e){console.error("Error fetching files:",e)}},x=async()=>{try{l.value=!0;const a=await fetch("https://54.255.235.207/uploads/Book2_fe95dc7b5b.xlsx");if(!a.ok)throw new Error("Network response was not ok");const s=await a.arrayBuffer(),o=Ft.LF(s,{type:"array"}),n=o.Sheets[o.SheetNames[0]],i=Ft.Wp.sheet_to_json(n,{header:1,raw:!1}),d=n["!merges"]||[],c=new Ut.Workbook;await c.xlsx.load(s);const u=c.worksheets[0],p=R(i,d);I(u,p.data),t.value=p.data,b.value.mergeCells=p.mergeCells;const m=e.value.hotInstance;r.value=a,m&&(m.loadData(p.data),m.updateSettings({cells:b.value.cells}),l.value=!1)}catch(a){console.error("Error loading file:",a);const t=e.value.hotInstance;t&&(t.loadData([]),t.updateSettings({cells:b.value.cells}),l.value=!1),l.value=!1}},k=async()=>{if(r.value)try{l.value=!0;const a=await fetch(`https://api.nemsu-grading.online${r.value.url}`);if(!a.ok)throw new Error("Network response was not ok");const s=await a.arrayBuffer(),o=Ft.LF(s,{type:"array"}),n=o.Sheets[o.SheetNames[0]],i=Ft.Wp.sheet_to_json(n,{header:1,raw:!1}),d=n["!merges"]||[],c=new Ut.Workbook;await c.xlsx.load(s);const u=c.worksheets[0],p=R(i,d);I(u,p.data),t.value=p.data,b.value.mergeCells=p.mergeCells;const m=e.value.hotInstance;m&&(m.loadData(p.data),m.updateSettings({cells:b.value.cells}),l.value=!1)}catch(a){console.error("Error loading file:",a);const t=e.value.hotInstance;t&&(t.loadData([]),t.updateSettings({cells:b.value.cells}),l.value=!1),l.value=!1}},L=async()=>{let e={method:"get",maxBodyLength:1/0,url:"https://api.nemsu-grading.online/api/school-years?filters[active][$eq]=active",headers:{"Content-Type":"application/json",Authorization:`Bearer ${sessionStorage.getItem("jwt")}`}};const t=await S.A.request(e);s.value=t.data.data[0].attributes},w=a=>{const s=a.target.files[0];if(s){const a=new FileReader;a.onload=a=>{l.value=!0,r.value=s;const o=new Uint8Array(a.target.result),n=Ft.LF(o,{type:"array"}),i=n.Sheets[n.SheetNames[0]],d=Ft.Wp.sheet_to_json(i,{header:1,raw:!1}),c=i["!merges"]||[],u=R(d,c);t.value=u.data,b.value.mergeCells=u.mergeCells;const p=e.value.hotInstance;p&&(p.loadData(u.data),p.updateSettings({cells:b.value.cells}),l.value=!1)},a.readAsArrayBuffer(s)}},C=()=>{const a=Ft.Wp.book_new(),s=Ft.Wp.aoa_to_sheet(t.value),r=e.value.hotInstance.getSettings().mergeCells||[];r.length>0&&(s["!merges"]=r.map((e=>({s:{r:e.row,c:e.col},e:{r:e.row+e.rowspan-1,c:e.col+e.colspan-1}})))),Ft.Wp.book_append_sheet(a,s,"Sheet1"),Ft._h(a,"exported_data.xlsx")},_=async()=>{if(0==r.value.length)return;const a=Ft.Wp.book_new(),s=Ft.Wp.aoa_to_sheet(t.value);l.value=!0;const o=e.value.hotInstance.getSettings().mergeCells||[];o.length>0&&(s["!merges"]=o.map((e=>({s:{r:e.row,c:e.col},e:{r:e.row+e.rowspan-1,c:e.col+e.colspan-1}})))),Ft.Wp.book_append_sheet(a,s,"Sheet1");const d=Ft.M9(a,{bookType:"xlsx",type:"binary"}),u=new Blob([A(d)],{type:"application/octet-stream"}),p=new FormData;p.append("files",u,i.value+""+c.value);try{try{await S.A.delete(`https://api.nemsu-grading.online/api/upload/files/${r.value.id}`)}catch(m){}const e=await fetch("https://api.nemsu-grading.online/api/upload/",{method:"POST",body:p});await e.json()}catch(m){console.error("Error saving file:",m)}finally{const t=e.value.hotInstance;t&&(t.loadData([]),t.updateSettings({cells:b.value.cells}),l.value=!1),r.value=[],l.value=!1,n.value=!1,v()}},j=async()=>{try{await S.A.delete(`https://api.nemsu-grading.online/api/upload/files/${r.value.id}`)}catch(t){}finally{const t=e.value.hotInstance;t&&(t.loadData([]),t.updateSettings({cells:b.value.cells}),l.value=!1),r.value=[],l.value=!1,n.value=!1,v()}},E=async()=>{const a=t.value[0][21].charAt(0),s=t.value[1][21],o=await S.A.get(`https://api.nemsu-grading.online/api/school-years?filters[year][$eq]=${s}&filters[sem][$eq]=${a}&filters[active][$eq]=true`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("jwt")}`}});if(o.data.data.length<1)return void alert("School year not active");const i=t.value.reduce(((r,o,l)=>{try{l>9&&["PASSED","FAILED","INC","N/A"].includes(String(e.value.hotInstance.getDataAtCell(l,58)))&&r.push({subject_no:t.value[3][4],semester:a,sy:s,description:t.value[3][8],course:t.value[3][4],instructor:t.value[3][1],student_id:o[0],student_name:o[1],ftg:String(e.value.hotInstance.getDataAtCell(l,56)),final:String(e.value.hotInstance.getDataAtCell(l,57)),remarks:String(e.value.hotInstance.getDataAtCell(l,58)),grade:String(e.value.hotInstance.getDataAtCell(l,57)),section:String(e.value.hotInstance.getDataAtCell(3,47))})}catch(n){}return r}),[]);if(i.forEach((async e=>{try{const t=sessionStorage.getItem("jwt");await S.A.post("https://api.nemsu-grading.online/api/grade-masterlists",{data:e},{headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`}})}catch(t){console.error(`Failed to create entry: ${t}`)}})),We.oR.success("Grades successfully submitted"),0==r.value.length)return;const d=Ft.Wp.book_new(),u=Ft.Wp.aoa_to_sheet(t.value);l.value=!0;const p=e.value.hotInstance.getSettings().mergeCells||[];p.length>0&&(u["!merges"]=p.map((e=>({s:{r:e.row,c:e.col},e:{r:e.row+e.rowspan-1,c:e.col+e.colspan-1}})))),Ft.Wp.book_append_sheet(d,u,"Sheet1");const m=Ft.M9(d,{bookType:"xlsx",type:"binary"}),g=new Blob([A(m)],{type:"application/octet-stream"}),f=new FormData;f.append("files",g,r.value.name+"@admin");const h=new FormData;h.append("files",g,r.value.name+""+c.value);try{try{await S.A.delete(`https://api.nemsu-grading.online/api/upload/files/${r.value.id}`)}catch(y){}const e=await fetch("https://api.nemsu-grading.online/api/upload/",{method:"POST",body:f});await fetch("https://api.nemsu-grading.online/api/upload/",{method:"POST",body:h}),await e.json()}catch(y){console.error("Error saving file:",y)}finally{const t=e.value.hotInstance;t&&(t.loadData([]),t.updateSettings({cells:b.value.cells}),l.value=!1),r.value=[],l.value=!1,n.value=!1,v()}},A=e=>{const t=new ArrayBuffer(e.length),a=new Uint8Array(t);for(let s=0;s<e.length;s++)a[s]=255&e.charCodeAt(s);return t},I=(e,t)=>{const a=[];e.eachRow((e=>{e.eachCell((e=>{e.formula&&(t[e.row-1][e.col-1]=`=${e.formula}`);const s={row:e.row-1,col:e.col-1};e.font&&(s.fontStyle={color:e.font.color?`#${e.font.color}`:void 0,bold:e.font.bold||!1,italic:e.font.italic||!1}),e.fill&&(s.backgroundColor=e.fill.bgColor),e.alignment&&(s.alignment=e.alignment),a.push(s)}))})),d.value=a},F=(e,t,a,s,r,o,l)=>{console.debug(e,r,l,o),t.innerText=o,d.value.map((e=>(e.row==a&&e.col==s&&(e.fill&&e.fill.fgColor&&(t.style.backgroundColor=`#${e.fill.fgColor}`),e.fontStyle&&(t.style.fontWeight=e.fontStyle.bold?"bold":"normal",t.style.fontStyle=e.fontStyle.italic?"italic":"normal",t.style.color=e.fontStyle.color?`#${e.fontStyle.color}`:"black",t.style.italic=e.fontStyle.italic),e.alignment&&(t.style.textAlign=e.alignment.horizontal||"left",t.style.verticalAlign=e.alignment.vertical||"middle")),t)))},R=(e,t)=>{const a=e.map((e=>e.map((e=>e&&"object"===typeof e?e.v:e)))),s=[];return t.forEach((e=>{const{s:t,e:r}=e;let o=a[t.r][t.c];for(let s=t.r;s<=r.r;s++)for(let e=t.c;e<=r.c;e++)s===t.r&&e===t.c?a[s][e]=o:a[s][e]=null;s.push({row:t.r,col:t.c,rowspan:r.r-t.r+1,colspan:r.c-t.c+1})})),{data:a,mergeCells:s}},U=()=>{o.value+=.1,P()},M=()=>{o.value=Math.max(o.value-.1,.1),P()},P=()=>{const t=e.value.$el;t.style.transform=`scale(${o.value})`,t.style.transformOrigin="top left",t.style.overflow="scroll",t.style.width=100/o.value+"%",t.style.height=700/o.value+"px"};return v(),L(),{deleteFile:j,hotTableRef:e,data:t,hotSettings:b,files:a,selectedFile:r,loading:l,exportToExcel:C,isRenameModalVisible:n,newFileName:i,openRenameModal:f,closeRenameModal:h,renameFile:y,onFileChange:w,saveToExcel:_,loadFile:k,zoomIn:U,zoomOut:M,activeSchoolYear:s,submitToAdmin:E,fetchDefaultExcel:x,customCellRenderer:F}}});const Pt=(0,i.A)(Mt,[["render",jt],["__scopeId","data-v-16c233e1"]]);var Vt=Pt;const Nt={class:"container mx-auto p-6"},Xt={class:"flex flex-row justify-between"},$t={class:"text-3xl font-semibold text-gray-800 mb-6 shadow-sm"},Dt={key:0},Yt=["value"],Bt={class:"flex justify-end space-x-4 mt-6"},Tt={type:"submit",class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition"},zt={class:"overflow-x-auto mt-10 text-[12px] text-nowrap"},Ot={class:"min-w-full bg-white border border-gray-200 text-[12px] text-nowrap"},Jt={class:"text-[12px] text-nowrap"},Wt={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},Gt={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},qt={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},Kt={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},Qt={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},Ht={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},Zt={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},ea={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200"},ta={class:"px-6 py-4 whitespace-nowrap border-b border-gray-200 text-center"},aa=["onClick"],sa=["onClick"],ra=["onClick"],oa={key:0},la={class:"text-2xl font-semibold mb-4"},na={class:"flex flex-col mb-4"},ia=["value"],da={class:"flex justify-end mt-6 space-x-4"};function ca(e,t,a,o,l,n){const i=(0,r.g2)("loading");return(0,r.uX)(),(0,r.CE)("div",Nt,[(0,r.bF)(i,{isLoading:l.isLoading},null,8,["isLoading"]),(0,r.Lk)("div",Xt,[t[21]||(t[21]=(0,r.Lk)("h1",{class:"text-3xl font-bold mb-6"},"Users Account",-1)),(0,r.Lk)("button",{onClick:t[0]||(t[0]=(...e)=>n.openCreateModal&&n.openCreateModal(...e)),class:"mb-4 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition text-[12px]"}," Create Account ")]),l.isModalOpen?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-60 overflow-auto pt-10 text-sm",onClick:t[15]||(t[15]=(...e)=>n.closeModal&&n.closeModal(...e))},[(0,r.Lk)("div",{class:"bg-white mt-4 p-8 rounded-lg shadow-2xl h-[90%] max-w-lg w-full space-y-6",onClick:t[14]||(t[14]=(0,s.D$)((()=>{}),["stop"]))},[(0,r.Lk)("h2",$t,(0,p.v_)(l.isEditing?"Update Account":"Add New Account"),1),(0,r.Lk)("form",{class:"space-y-4 overflow-auto h-[90%] p-3",onSubmit:t[13]||(t[13]=(0,s.D$)((e=>l.isEditing?n.updateInstructor():n.createInstructor()),["prevent"]))},[(0,r.Lk)("div",null,[t[22]||(t[22]=(0,r.Lk)("label",{for:"username",class:"block text-base font-medium text-gray-700"},"Username",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.newInstructor.username=e),id:"username",type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500",required:""},null,512),[[s.Jo,l.newInstructor.username]])]),l.isEditing?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Dt,[t[23]||(t[23]=(0,r.Lk)("label",{for:"password",class:"block text-base font-medium text-gray-700"},"Password",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>l.newInstructor.password=e),id:"password",type:"password",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500",required:""},null,512),[[s.Jo,l.newInstructor.password]])])),(0,r.Lk)("div",null,[t[24]||(t[24]=(0,r.Lk)("label",{for:"fname",class:"block text-base font-medium text-gray-700"},"First Name",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>l.newInstructor.fname=e),id:"fname",type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500",required:""},null,512),[[s.Jo,l.newInstructor.fname]])]),(0,r.Lk)("div",null,[t[25]||(t[25]=(0,r.Lk)("label",{for:"lname",class:"block text-base font-medium text-gray-700"},"Last Name",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.newInstructor.lname=e),id:"lname",type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500",required:""},null,512),[[s.Jo,l.newInstructor.lname]])]),(0,r.Lk)("div",null,[t[26]||(t[26]=(0,r.Lk)("label",{for:"email",class:"block text-base font-medium text-gray-700"},"Email",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.newInstructor.email=e),id:"email",type:"email",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500",required:""},null,512),[[s.Jo,l.newInstructor.email]])]),(0,r.Lk)("div",null,[t[27]||(t[27]=(0,r.Lk)("label",{for:"address",class:"block text-base font-medium text-gray-700"},"Address",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.newInstructor.address=e),id:"address",type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},null,512),[[s.Jo,l.newInstructor.address]])]),(0,r.Lk)("div",null,[t[28]||(t[28]=(0,r.Lk)("label",{for:"bdate",class:"block text-base font-medium text-gray-700"},"Birth Date",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.newInstructor.bdate=e),id:"bdate",type:"date",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},null,512),[[s.Jo,l.newInstructor.bdate]])]),(0,r.Lk)("div",null,[t[29]||(t[29]=(0,r.Lk)("label",{for:"role",class:"block text-base font-medium text-gray-700"},"Role",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.newInstructor.role=e),id:"role",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500",required:""},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.roles,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id,value:e.id},(0,p.v_)(e.name),9,Yt)))),128))],512),[[s.u1,l.newInstructor.role]])]),(0,r.Lk)("div",null,[t[31]||(t[31]=(0,r.Lk)("label",{for:"gender",class:"block text-base font-medium text-gray-700"},"Gender",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.newInstructor.gender=e),id:"gender",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500",required:""},t[30]||(t[30]=[(0,r.Lk)("option",{value:"Male"},"Male",-1),(0,r.Lk)("option",{value:"Female"},"Female",-1),(0,r.Lk)("option",{value:"Other"},"Other",-1)]),512),[[s.u1,l.newInstructor.gender]])]),(0,r.Lk)("div",null,[t[32]||(t[32]=(0,r.Lk)("label",{for:"phone_no",class:"block text-base font-medium text-gray-700"},"Phone Number",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[10]||(t[10]=e=>l.newInstructor.phone_no=e),id:"phone_no",type:"tel",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},null,512),[[s.Jo,l.newInstructor.phone_no]])]),(0,r.Lk)("div",null,[t[34]||(t[34]=(0,r.Lk)("label",{for:"activated",class:"block text-base font-medium text-gray-700"},"Activate",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[11]||(t[11]=e=>l.newInstructor.activated=e),id:"activated",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500",required:""},t[33]||(t[33]=[(0,r.Lk)("option",{value:"true"},"True",-1),(0,r.Lk)("option",{value:"false"},"False",-1)]),512),[[s.u1,l.newInstructor.activated]])]),(0,r.Lk)("div",Bt,[(0,r.Lk)("button",Tt,(0,p.v_)(l.isEditing?"Update":"Create"),1),(0,r.Lk)("button",{type:"button",onClick:t[12]||(t[12]=(...e)=>n.closeModal&&n.closeModal(...e)),class:"px-6 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition"}," Cancel ")])],32)])])):(0,r.Q3)("",!0),(0,r.Lk)("div",zt,[(0,r.Lk)("table",Ot,[t[36]||(t[36]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-[12px] text-nowrap font-medium text-gray-700 uppercase"}," Username "),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-[12px] text-nowrap font-medium text-gray-700 uppercase tracking-wider"}," Role "),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-[12px] text-nowrap font-medium text-gray-700 uppercase"}," First Name "),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-[12px] text-nowrap font-medium text-gray-700 uppercase"}," Last Name "),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-[12px] text-nowrap font-medium text-gray-700 uppercase"}," Email "),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-[12px] text-nowrap font-medium text-gray-700 uppercase"}," Gender "),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-[12px] text-nowrap font-medium text-gray-700 uppercase"}," Phone Number "),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left text-[12px] text-nowrap font-medium text-gray-700 uppercase"}," Activated "),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px] text-nowrap"}," Account Status "),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-center font-medium text-gray-700 uppercase text-[12px] text-nowrap"}," Actions ")])],-1)),(0,r.Lk)("tbody",Jt,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.instructors,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id,class:"hover:bg-gray-100"},[(0,r.Lk)("td",Wt,(0,p.v_)(e.username),1),(0,r.Lk)("td",Gt,(0,p.v_)(e.role.name),1),(0,r.Lk)("td",qt,(0,p.v_)(e.fname),1),(0,r.Lk)("td",Kt,(0,p.v_)(e.lname),1),(0,r.Lk)("td",Qt,(0,p.v_)(e.email),1),(0,r.Lk)("td",Ht,(0,p.v_)(e.gender),1),(0,r.Lk)("td",Zt,(0,p.v_)(e.phone_no),1),(0,r.Lk)("td",ea,(0,p.v_)(e.activated),1),(0,r.Lk)("td",{class:(0,p.C4)(["px-6 py-4 whitespace-nowrap border-b border-gray-200",{"text-red-500":e.blocked}])},(0,p.v_)(e.blocked?"Blocked":"Active"),3),(0,r.Lk)("td",ta,[(0,r.Lk)("button",{onClick:t=>n.openEditModal(e),class:"px-3 py-1 bg-yellow-500 text-white rounded hover:bg-blue-600 transition"}," View ",8,aa),"admin"!=e.role.type?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t=>n.deleteInstructor(e.id),class:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition ml-2"}," Delete ",8,sa)):(0,r.Q3)("",!0),"admin"!=e.role.type?((0,r.uX)(),(0,r.CE)("button",{key:1,class:(0,p.C4)([{"bg-blue-600":e.blocked,"bg-red-600":!e.blocked},"px-3 py-1 text-white rounded hover:bg-yellow-600 transition ml-2"]),onClick:t=>e.blocked?n.reactivatedAccount(e.id):n.deactivateInstructor(e.id)},(0,p.v_)(e.blocked?"Activate":"Block")+" Account ",11,ra)):(0,r.Q3)("",!0),(0,r.Q3)("",!0)])])))),128)),0===l.instructors.length?((0,r.uX)(),(0,r.CE)("tr",oa,t[35]||(t[35]=[(0,r.Lk)("td",{colspan:"8",class:"px-6 py-4 text-center text-gray-500"}," No instructors found. ",-1)]))):(0,r.Q3)("",!0)])])]),l.isProgramModalOpen?((0,r.uX)(),(0,r.CE)("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t[20]||(t[20]=(...e)=>n.closeProgramModal&&n.closeProgramModal(...e))},[(0,r.Lk)("div",{class:"bg-white rounded-lg shadow-lg w-full max-w-md p-6 relative",onClick:t[19]||(t[19]=(0,s.D$)((()=>{}),["stop"]))},[(0,r.Lk)("h2",la," Assign Program to "+(0,p.v_)(l.currentInstructor),1),(0,r.Lk)("form",{onSubmit:t[18]||(t[18]=(0,s.D$)((e=>n.assignProgramToInstructor()),["prevent"]))},[(0,r.Lk)("div",na,[t[38]||(t[38]=(0,r.Lk)("label",{for:"program",class:"mb-1 font-medium"},"Program:",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[16]||(t[16]=e=>l.selectedProgram=e),id:"program",required:"",class:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring focus:border-blue-300"},[t[37]||(t[37]=(0,r.Lk)("option",{disabled:"",value:""},"Select Program",-1)),((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.programs,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id,value:e.id},(0,p.v_)(e.attributes.description),9,ia)))),128))],512),[[s.u1,l.selectedProgram]])]),(0,r.Lk)("div",da,[t[39]||(t[39]=(0,r.Lk)("button",{type:"submit",class:"px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition"}," Assign Program ",-1)),(0,r.Lk)("button",{type:"button",onClick:t[17]||(t[17]=(...e)=>n.closeProgramModal&&n.closeProgramModal(...e)),class:"px-4 py-2 bg-gray-300 text-gray-700 rounded hover:bg-gray-400 transition"}," Cancel ")])],32)])])):(0,r.Q3)("",!0)])}var ua={name:"InstructorComponent",components:{Loading:Je},data(){return{isLoading:!1,newInstructor:{username:"",password:"",fname:"",lname:"",mname:"",email:"",address:"",role:"",bdate:"",gender:"",phone_no:"",blocked:!0,activated:""},roles:[],programs:[],instructors:[],isModalOpen:!1,isEditing:!1,currentInstructorId:null,isProgramModalOpen:!1,selectedProgram:null,currentInstructor:null}},methods:{async deleteInstructor(e){try{const t=sessionStorage.getItem("jwt");await S.A.delete(`https://api.nemsu-grading.online/api/users/${e}`,{headers:{Authorization:`Bearer ${t}`}}),this.fetchInstructors(),We.oR.success("Account Deleted")}catch(t){We.oR.error(t.response.data.error.message),console.error("Error deleting instructor:",t)}},async deactivateInstructor(e){try{const t=sessionStorage.getItem("jwt");await S.A.put(`https://api.nemsu-grading.online/api/users/${e}`,{blocked:!0},{headers:{Authorization:`Bearer ${t}`}}),this.fetchInstructors(),We.oR.success("Account Blocked")}catch(t){We.oR.error(t.response.data.error.message),console.error("Error deactivating instructor:",t)}},async reactivatedAccount(e){try{const t=sessionStorage.getItem("jwt");await S.A.put(`https://api.nemsu-grading.online/api/users/${e}`,{blocked:!1},{headers:{Authorization:`Bearer ${t}`}}),this.fetchInstructors(),We.oR.success("Account Activated")}catch(t){We.oR.error(t.response.data.error.message),console.error("Error deactivating instructor:",t)}},async fetchInstructors(){try{this.isLoading=!0;const e=sessionStorage.getItem("jwt"),t=await S.A.get("https://api.nemsu-grading.online/api/users?populate=*",{headers:{Authorization:`Bearer ${e}`}});this.instructors=t.data}catch(e){We.oR.error(e.response.data.error.message),console.error("Error fetching instructors:",e)}finally{this.isLoading=!1}},async fetchRoles(){try{this.isLoading=!0;const e=sessionStorage.getItem("jwt"),t=await S.A.get("https://api.nemsu-grading.online/api/users-permissions/roles",{headers:{Authorization:`Bearer ${e}`}});this.roles=t.data.roles}catch(e){We.oR.error(e.response.data.error.message),console.error("Error fetching roles:",e)}finally{this.isLoading=!1}},async fetchPrograms(){try{this.loading=!0;const e=sessionStorage.getItem("jwt"),t=await S.A.get("https://api.nemsu-grading.online/api/subjects",{headers:{Authorization:`Bearer ${e}`}});this.programs=t.data.data,console.log("asd",this.programs)}catch(e){We.oR.error(e.response.data.error.message),console.error("Error fetching programs:",e)}finally{this.isLoading=!1}},async createInstructor(){try{this.loading=!0;const e=sessionStorage.getItem("jwt"),t=await S.A.post("https://api.nemsu-grading.online/api/users/",this.newInstructor,{headers:{Authorization:`Bearer ${e}`}});this.instructors.push(t.data),We.oR.success("Account Created"),this.resetNewInstructor(),this.closeModal()}catch(e){We.oR.error(e.response.data.error.message),console.error("Error creating instructor:",e)}finally{this.isLoading=!1}},async updateInstructor(){try{this.loading=!0;const e=sessionStorage.getItem("jwt"),t=this.newInstructor;delete t.password,await S.A.put(`https://api.nemsu-grading.online/api/users/${this.currentInstructorId}`,this.newInstructor,{headers:{Authorization:`Bearer ${e}`}}),this.fetchInstructors(),this.resetNewInstructor(),We.oR.success("Account Updated"),this.closeModal()}catch(e){We.oR.error(e.response.data.error.message),console.error("Error updating instructor:",e)}finally{this.isLoading=!1}},async assignProgramToInstructor(){try{const e=sessionStorage.getItem("jwt"),t=await S.A.get(`https://api.nemsu-grading.online/api/assigned-programs?filters[instructor_id][$eq]=${this.currentInstructor}`,{headers:{Authorization:`Bearer ${e}`}}),a=t.data.data;console.log(a);const s=a.some((e=>e.attributes.program_id===this.selectedProgram.toString()));if(s)return void alert("This program is already assigned to the instructor.");await S.A.post("https://api.nemsu-grading.online/api/assigned-programs",{data:{instructor_id:this.currentInstructor.toString(),program_id:this.selectedProgram.toString()}},{headers:{Authorization:`Bearer ${e}`}}),this.fetchInstructors(),this.closeProgramModal()}catch(e){We.oR.error(e.response.data.error.message),console.error("Error assigning program:",e)}},openCreateModal(){this.resetNewInstructor(),this.isEditing=!1,this.isModalOpen=!0},openEditModal(e){this.newInstructor={...e},console.log(this.newInstructor),this.newInstructor.role=e.role.id,this.currentInstructorId=e.id,this.isEditing=!0,this.isModalOpen=!0},openAssignProgramModal(e){this.currentInstructor=e.id,console.log("instructore",e),this.selectedProgram=null,this.isProgramModalOpen=!0},resetNewInstructor(){this.newInstructor={username:"",password:"",fname:"",lname:"",mname:"",email:"",address:"",bdate:"",role:"",gender:"",phone_no:"",blocked:!1},this.currentInstructorId=null},closeModal(){this.isModalOpen=!1},closeProgramModal(){this.isProgramModalOpen=!1}},mounted(){this.fetchInstructors(),this.fetchRoles(),this.fetchPrograms()}};const pa=(0,i.A)(ua,[["render",ca]]);var ma=pa;const ga={class:"container mx-auto p-6"},ba={class:"flex flex-row justify-between"},fa={class:"overflow-auto mt-10 h-[70%]"},ha={class:"min-w-full bg-white border border-gray-200 text-[12px]"},ya={key:0,class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-center font-medium text-gray-700 uppercase text-[12px]"},va={class:"px-6 whitespace-nowrap"},xa={class:"px-6 whitespace-nowrap"},ka={class:"px-6 whitespace-nowrap"},La={class:"px-6 whitespace-nowrap"},wa={class:"px-6 whitespace-nowrap"},Sa={class:"px-6 whitespace-nowrap"},Ca={class:"px-6 whitespace-nowrap"},_a={class:"px-6 whitespace-nowrap"},ja={key:0,class:"px-6 py-4 whitespace-nowrap text-center"},Ea=["onClick"],Aa=["onClick"],Ia={class:"text-xl font-semibold mb-4"},Fa={class:"mb-4"},Ra={class:"mb-4"},Ua={class:"mb-4"},Ma={class:"mb-4"},Pa={class:"mb-4"},Va={class:"mb-4"},Na={class:"mb-4"},Xa={class:"mb-4"},$a=["value"],Da={class:"mb-4"},Ya={class:"flex justify-end space-x-4 mt-6"},Ba={type:"submit",class:"px-6 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition"};function Ta(e,t,a,o,l,n){const i=(0,r.g2)("loading-component");return(0,r.uX)(),(0,r.CE)("div",ga,[(0,r.bF)(i,{isLoading:l.isLoading},null,8,["isLoading"]),(0,r.Lk)("div",ba,[t[14]||(t[14]=(0,r.Lk)("h1",{class:"text-3xl font-bold"},"Manage Programs",-1)),"admin"===l.role?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t[0]||(t[0]=(...e)=>n.openCreateModal&&n.openCreateModal(...e)),class:"mb-4 px-4 py-2 bg-green-500 text-white rounded hover:bg-green-600 transition text-[12px]"},"Add Program")):(0,r.Q3)("",!0)]),(0,r.Lk)("div",fa,[(0,r.Lk)("table",ha,[(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[t[15]||(t[15]=(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Course Code",-1)),t[16]||(t[16]=(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Descriptive Title",-1)),t[17]||(t[17]=(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Lecture",-1)),t[18]||(t[18]=(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Laboratory",-1)),t[19]||(t[19]=(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Units",-1)),t[20]||(t[20]=(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Semester",-1)),t[21]||(t[21]=(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"School Year",-1)),t[22]||(t[22]=(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Year Level",-1)),"admin"===l.role?((0,r.uX)(),(0,r.CE)("th",ya,"Actions")):(0,r.Q3)("",!0)])]),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.programs,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id,class:"border-b border-gray-200 hover:bg-yellow-200"},[(0,r.Lk)("td",va,(0,p.v_)(e.attributes.code),1),(0,r.Lk)("td",xa,(0,p.v_)(e.attributes.description),1),(0,r.Lk)("td",ka,(0,p.v_)(e.attributes.lecture),1),(0,r.Lk)("td",La,(0,p.v_)(e.attributes.laboratory),1),(0,r.Lk)("td",wa,(0,p.v_)(e.attributes.units),1),(0,r.Lk)("td",Sa,(0,p.v_)(e.attributes.sem),1),(0,r.Lk)("td",Ca,(0,p.v_)(e.attributes.sy),1),(0,r.Lk)("td",_a,(0,p.v_)(e.attributes.year),1),"admin"===l.role?((0,r.uX)(),(0,r.CE)("td",ja,[(0,r.Lk)("button",{onClick:t=>n.openEditModal(e),class:"bg-blue-500 text-white px-2 py-1 rounded hover:bg-blue-600"},"Edit",8,Ea),(0,r.Lk)("button",{onClick:t=>n.deleteProgram(e.id),class:"bg-red-500 text-white px-2 py-1 rounded hover:bg-red-600 ml-2"},"Delete",8,Aa)])):(0,r.Q3)("",!0)])))),128))])])]),l.isModalOpen?((0,r.uX)(),(0,r.CE)("div",{key:0,class:"fixed inset-0 bg-gray-600 bg-opacity-50 flex items-center justify-center",onClick:t[13]||(t[13]=(...e)=>n.closeModal&&n.closeModal(...e))},[(0,r.Lk)("div",{class:"bg-white p-6 rounded-lg shadow-lg w-96",onClick:t[12]||(t[12]=(0,s.D$)((()=>{}),["stop"]))},[(0,r.Lk)("h2",Ia,(0,p.v_)(l.isEditing?"Edit Program":"Create New Program"),1),(0,r.Lk)("form",{onSubmit:t[11]||(t[11]=(0,s.D$)((e=>l.isEditing?n.updateProgram():n.createProgram()),["prevent"]))},[(0,r.Lk)("div",Fa,[t[23]||(t[23]=(0,r.Lk)("label",{for:"code",class:"block text-sm font-medium text-gray-700"},"Program Code:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[1]||(t[1]=e=>l.programForm.code=e),id:"code",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"},null,512),[[s.Jo,l.programForm.code]])]),(0,r.Lk)("div",Ra,[t[24]||(t[24]=(0,r.Lk)("label",{for:"description",class:"block text-sm font-medium text-gray-700"},"Description:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[2]||(t[2]=e=>l.programForm.description=e),id:"description",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"},null,512),[[s.Jo,l.programForm.description]])]),(0,r.Lk)("div",Ua,[t[25]||(t[25]=(0,r.Lk)("label",{for:"lecture",class:"block text-sm font-medium text-gray-700"},"Lecture Units:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[3]||(t[3]=e=>l.programForm.lecture=e),id:"lecture",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"},null,512),[[s.Jo,l.programForm.lecture]])]),(0,r.Lk)("div",Ma,[t[26]||(t[26]=(0,r.Lk)("label",{for:"laboratory",class:"block text-sm font-medium text-gray-700"},"Laboratory Units:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>l.programForm.laboratory=e),id:"laboratory",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"},null,512),[[s.Jo,l.programForm.laboratory]])]),(0,r.Lk)("div",Pa,[t[27]||(t[27]=(0,r.Lk)("label",{for:"units",class:"block text-sm font-medium text-gray-700"},"Units:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=e=>l.programForm.units=e),id:"units",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"},null,512),[[s.Jo,l.programForm.units]])]),(0,r.Lk)("div",Va,[t[29]||(t[29]=(0,r.Lk)("label",{for:"semester",class:"block text-sm font-medium text-gray-700"},"Semester:",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[6]||(t[6]=e=>l.programForm.sem=e),id:"sem",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"},t[28]||(t[28]=[(0,r.Lk)("option",{value:"1"},"1st Semester",-1),(0,r.Lk)("option",{value:"2"},"2nd Semester",-1)]),512),[[s.u1,l.programForm.sem]])]),(0,r.Lk)("div",Na,[t[31]||(t[31]=(0,r.Lk)("label",{for:"status",class:"block text-sm font-medium text-gray-700"},"Status:",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[7]||(t[7]=e=>l.programForm.status=e),id:"status",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"},t[30]||(t[30]=[(0,r.Lk)("option",{value:"1"},"Active",-1),(0,r.Lk)("option",{value:"0"},"Inactive",-1)]),512),[[s.u1,l.programForm.status]])]),(0,r.Lk)("div",Xa,[t[32]||(t[32]=(0,r.Lk)("label",{for:"sy",class:"block text-sm font-medium text-gray-700"},"School Year:",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[8]||(t[8]=e=>l.programForm.sy=e),id:"sy",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.schoolYears,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id,value:e.attributes.year},(0,p.v_)(e.attributes.year),9,$a)))),128))],512),[[s.u1,l.programForm.sy]])]),(0,r.Lk)("div",Da,[t[34]||(t[34]=(0,r.Lk)("label",{for:"year",class:"block text-sm font-medium text-gray-700"},"Year Level:",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[9]||(t[9]=e=>l.programForm.year=e),id:"year",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"},t[33]||(t[33]=[(0,r.Lk)("option",{value:"1"},"1st year",-1),(0,r.Lk)("option",{value:"2"},"2nd year",-1),(0,r.Lk)("option",{value:"3"},"3rd year",-1),(0,r.Lk)("option",{value:"4"},"4th year",-1)]),512),[[s.u1,l.programForm.year]])]),(0,r.Lk)("div",Ya,[(0,r.Lk)("button",Ba,(0,p.v_)(l.isEditing?"Update":"Create"),1),(0,r.Lk)("button",{onClick:t[10]||(t[10]=(...e)=>n.closeModal&&n.closeModal(...e)),type:"button",class:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md"}," Cancel ")])],32)])])):(0,r.Q3)("",!0)])}var za={components:{LoadingComponent:Je},name:"ManageProgramComponent",data(){return{isLoading:!1,role:"",programs:[],schoolYears:[],isModalOpen:!1,isEditing:!1,programForm:{id:"",description:"",sem:"",code:"",sy:"",status:"",year:"",lecture:"",laboratory:""}}},methods:{async fetchPrograms(){try{this.isLoading=!0;const e=sessionStorage.getItem("jwt"),t=await S.A.get("https://api.nemsu-grading.online/api/subjects",{headers:{Authorization:`Bearer ${e}`}});this.programs=t.data.data}catch(e){We.oR.error(e.response.data.error.message),console.error("Error fetching programs:",e)}finally{this.isLoading=!1}},async fetchSchoolYears(){try{const e=sessionStorage.getItem("jwt"),t=await S.A.get("https://api.nemsu-grading.online/api/school-years?filters[active][$eq]=active",{headers:{Authorization:`Bearer ${e}`}});this.schoolYears=t.data.data}catch(e){We.oR.error(e.response.data.error.message),console.error("Error fetching school years:",e)}},async createProgram(){try{this.isLoading=!0;const e=sessionStorage.getItem("jwt");await S.A.post("https://api.nemsu-grading.online/api/subjects",{data:{...this.programForm}},{headers:{Authorization:`Bearer ${e}`}}),this.fetchPrograms(),this.closeModal(),We.oR.success("Program Created")}catch(e){We.oR.error(e.response.data.error.message),console.error("Error creating program:",e)}finally{this.isLoading=!1}},openCreateModal(){this.resetForm(),this.isEditing=!1,this.isModalOpen=!0},openEditModal(e){this.programForm={...e.attributes,id:e.id},this.isEditing=!0,this.isModalOpen=!0},async updateProgram(){try{this.isLoading=!0;const e=sessionStorage.getItem("jwt");await S.A.put(`https://api.nemsu-grading.online/api/subjects/${this.programForm.id}`,{data:{...this.programForm}},{headers:{Authorization:`Bearer ${e}`}}),this.fetchPrograms(),this.closeModal(),We.oR.success("Program Updated")}catch(e){We.oR.error(e.response.data.error.message),console.error("Error updating program:",e)}finally{this.isLoading=!1}},async deleteProgram(e){try{this.isLoading=!0;const t=sessionStorage.getItem("jwt");await S.A.delete(`https://api.nemsu-grading.online/api/subjects/${e}`,{headers:{Authorization:`Bearer ${t}`}}),this.fetchPrograms(),We.oR.success("Program deleted")}catch(t){We.oR.error(t.response.data.error.message),console.error("Error deleting program:",t)}finally{this.isLoading=!1}},closeModal(){this.isModalOpen=!1},resetForm(){this.programForm={description:"",sem:"",code:"",sy:"",status:""}}},mounted(){this.role=sessionStorage.getItem("role"),this.fetchPrograms(),this.fetchSchoolYears()}};const Oa=(0,i.A)(za,[["render",Ta],["__scopeId","data-v-5fcb43f5"]]);var Ja=Oa,Wa=a.p+"img/Picture3.1de1adb0.png",Ga=a.p+"img/Picture2.8222636d.png",qa=a.p+"img/Picture1.5da319bf.png";const Ka={class:"manage-evaluation"},Qa={key:0,class:"page-title"},Ha={key:1,class:"search-student"},Za={ref:"printSection",class:"print-section"},es={class:"flex items-center mb-4"},ts={class:"flex w-full space-x-4 items-center justify-center gap-4"},as={class:"flex self-center flex-col items-center justify-center"},ss={class:"text-xs text-gray-500"},rs={class:"border-t border-b py-4 mb-2"},os={class:"grid grid-cols-2 gap-4 mt-[30px]"},ls={class:"text-sm font-medium text-gray-700"},ns={class:"text-sm font-medium text-gray-700"},is={class:"text-sm font-medium text-gray-700"},ds={class:"text-sm font-medium text-gray-700"},cs={class:"text-sm font-medium text-gray-700"},us={class:"text-sm font-medium text-gray-700"},ps={class:"text-sm font-medium text-gray-700"},ms={class:"text-sm font-medium text-gray-700"},gs={class:"mt-4"},bs={class:"min-w-full table-auto border border-gray-300"},fs={class:"px-2 py-2 border text-sm text-gray-600"},hs={class:"px-2 py-2 border text-sm text-gray-600"},ys={class:"px-2 py-2 border text-sm text-gray-600"},vs={class:"px-2 py-2 border text-sm text-gray-600"},xs={class:"px-2 py-2 border text-sm text-gray-600"},ks={class:"px-2 py-2 border text-sm text-gray-600"},Ls={class:"px-2 py-2 border text-sm text-gray-600"},ws={class:"px-2 py-2 border text-sm text-gray-600"},Ss={class:"px-2 py-2 border text-sm text-gray-600"},Cs={class:"px-2 py-2 border text-sm text-gray-600"},_s={class:"px-2 py-2 border text-sm text-gray-600"},js={class:"flex justify-between"},Es={key:0,class:"text-left mt-4 text-sm font-semibold text-gray-700"},As={class:"text-right mt-4 text-sm font-semibold text-gray-700"},Is={class:"text-left mt-4 text-xs text-gray-700"},Fs={key:2,class:"w-full h-[100%]"},Rs={class:"flex w-full h-[100%]"},Us={class:"subject-list w-[50%] pr-5 border-r-2 h-[90%]"},Ms={class:"border-t border-b py-1 mb-4 flex"},Ps={class:"flex justify-between w-full"},Vs={class:"text-[12px] w-full no-border"},Ns={class:"uppercase"},Xs={class:"table-container pb-10 border-t border-b"},$s={class:"text-[12px] mt-2 overflow-hidden"},Ds={class:"overflow-scroll"},Ys={class:"text-nowrap"},Bs={class:"text-nowrap"},Ts={class:"text-nowrap"},zs={class:"text-nowrap"},Os={class:"text-nowrap"},Js={class:"subject-list w-full ml-2"},Ws={class:"h-[80%] border-t border-b"},Gs={class:"overflow-auto h-[40%]"},qs={class:"text-[12px]"},Ks={class:"items-center justify-center"},Qs=["onUpdate:modelValue","onChange"],Hs={class:"h-[55%] overflow-auto mt-2"},Zs={class:"text-[12px]"},er={class:"flex justify-between m-[15px]"},tr={class:""},ar={class:"mt-[-20px]"},sr={key:3,class:"modal-overlay"},rr={class:"modal"},or={class:"mb-4"},lr=["value"],nr={class:"mb-4"},ir={class:"modal-actions"};function dr(e,t,a,o,l,n){const i=(0,r.g2)("Button");return(0,r.uX)(),(0,r.CE)("div",Ka,[l.selectedStudent?((0,r.uX)(),(0,r.CE)("h1",Qa,"Student Evaluation")):(0,r.Q3)("",!0),l.selectedStudent?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",Ha,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.searchQuery=e),placeholder:"Search Student ID"},null,512),[[s.Jo,l.searchQuery]]),(0,r.Lk)("button",{onClick:t[1]||(t[1]=(...e)=>n.searchStudent&&n.searchStudent(...e))},"Search")])),(0,r.Lk)("div",Za,[(0,r.Lk)("div",es,[(0,r.Lk)("div",ts,[t[10]||(t[10]=(0,r.Lk)("img",{src:m,alt:"School Logo",class:"h-20 w-20"},null,-1)),(0,r.Lk)("div",as,[t[7]||(t[7]=(0,r.Lk)("h2",{class:"text-lg font-semibold text-gray-700"}," NORTH EASTERN MINDANAO STATE UNIVERSITY ",-1)),t[8]||(t[8]=(0,r.Lk)("h3",{class:"text-sm font-medium text-gray-500"}," Cantilan, Surigao del Sur ",-1)),t[9]||(t[9]=(0,r.Lk)("h3",{class:"text-sm font-medium text-gray-500"}," Report of Grades ",-1)),(0,r.Lk)("p",ss," SY: "+(0,p.v_)(l.selected_school_year)+" Term: "+(0,p.v_)(l.eval_sem),1)])])]),(0,r.Lk)("div",rs,[(0,r.Lk)("div",os,[(0,r.Lk)("div",null,[(0,r.Lk)("p",ls,[t[11]||(t[11]=(0,r.Lk)("span",{class:"font-semibold"},"IDNO:",-1)),(0,r.eW)(" "+(0,p.v_)(l.selectedStudent?.student_id),1)]),(0,r.Lk)("p",ns,[t[12]||(t[12]=(0,r.Lk)("span",{class:"font-semibold"},"Lastname:",-1)),(0,r.eW)(" "+(0,p.v_)(l.selectedStudent?.lname),1)]),(0,r.Lk)("p",is,[t[13]||(t[13]=(0,r.Lk)("span",{class:"font-semibold"},"Firstname:",-1)),(0,r.eW)(" "+(0,p.v_)(l.selectedStudent?.fname),1)]),(0,r.Lk)("p",ds,[t[14]||(t[14]=(0,r.Lk)("span",{class:"font-semibold"},"Middle Name:",-1)),(0,r.eW)(" "+(0,p.v_)(l.selectedStudent?.mname),1)]),(0,r.Lk)("p",cs,[t[15]||(t[15]=(0,r.Lk)("span",{class:"font-semibold"},"Sex:",-1)),(0,r.eW)(" "+(0,p.v_)(l.selectedStudent?.gender),1)])]),(0,r.Lk)("div",null,[(0,r.Lk)("p",us,[t[16]||(t[16]=(0,r.Lk)("span",{class:"font-semibold"},"Course:",-1)),(0,r.eW)(" "+(0,p.v_)(l.selectedStudent?.course),1)]),(0,r.Lk)("p",ps,[t[17]||(t[17]=(0,r.Lk)("span",{class:"font-semibold"},"Year Level:",-1)),(0,r.eW)(" "+(0,p.v_)(l.selectedStudent?.year),1)]),(0,r.Lk)("p",ms,[t[18]||(t[18]=(0,r.Lk)("span",{class:"font-semibold"},"Status:",-1)),(0,r.eW)(" "+(0,p.v_)(l.selectedStudent?.status),1)])])])]),(0,r.Lk)("div",gs,[(0,r.Lk)("table",bs,[t[19]||(t[19]=(0,r.Lk)("thead",{class:"bg-gray-200"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Course No. "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Section "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Descriptive Title "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Time "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Days "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Room "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Bldg "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Lec "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Lab "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Units "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Instructor ")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.selectSubjects,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id,class:"hover:bg-gray-100"},[(0,r.Lk)("td",fs,(0,p.v_)(e.code),1),(0,r.Lk)("td",hs,(0,p.v_)(e.section),1),(0,r.Lk)("td",ys,(0,p.v_)(e.description),1),(0,r.Lk)("td",vs,(0,p.v_)(e.time),1),(0,r.Lk)("td",xs,(0,p.v_)(e.days),1),(0,r.Lk)("td",ks,(0,p.v_)(e.room),1),(0,r.Lk)("td",Ls,(0,p.v_)(e.bldg),1),(0,r.Lk)("td",ws,(0,p.v_)(e.lecture),1),(0,r.Lk)("td",Ss,(0,p.v_)(e.laboratory),1),(0,r.Lk)("td",Cs,(0,p.v_)(e.units),1),(0,r.Lk)("td",_s,(0,p.v_)(e.instructor),1)])))),128))])]),(0,r.Lk)("div",js,["evaluation"===e.activeTab?((0,r.uX)(),(0,r.CE)("p",Es,t[20]||(t[20]=[(0,r.Lk)("small",{class:"font-semibold italic"},"note: Schedules may change depending on the no. of students & faculty loading. please be guided accordingly",-1)]))):(0,r.Q3)("",!0),(0,r.Lk)("p",As," Total Units: "+(0,p.v_)(l.selectSubjects.length>0?l.selectSubjects.reduce(((e,t)=>e+t.units),0):0),1)]),t[21]||(t[21]=(0,r.Lk)("p",{class:"text-left mt-12 text-sm text-gray-700"}," Certified By: ",-1)),t[22]||(t[22]=(0,r.Lk)("p",{class:"text-left mt-12 text-sm text-gray-700"},null,-1)),(0,r.Lk)("small",Is,"Date: "+(0,p.v_)(new Date(Date.now()).getFullYear())+"/"+(0,p.v_)(new Date(Date.now()).getMonth())+"/"+(0,p.v_)(new Date(Date.now()).getDate()),1)]),t[23]||(t[23]=(0,r.Fv)('<div class="flex items-center justify-between mb-4 border-t-2 border-blue-500 mt-10" data-v-4b3f8441><div class="flex self-center flex-col items-left justify-left w-[300px]" data-v-4b3f8441><div class="flex-row flex gap-2 items-center" data-v-4b3f8441><svg width="10" height="10" version="1.0" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 64 64" enable-background="new 0 0 64 64" xml:space="preserve" fill="#e25555" stroke="#e25555" data-v-4b3f8441><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-4b3f8441></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-4b3f8441></g><g id="SVGRepo_iconCarrier" data-v-4b3f8441><path fill="#c17689" d="M32,0C18.746,0,8,10.746,8,24c0,5.219,1.711,10.008,4.555,13.93c0.051,0.094,0.059,0.199,0.117,0.289l16,24 C29.414,63.332,30.664,64,32,64s2.586-0.668,3.328-1.781l16-24c0.059-0.09,0.066-0.195,0.117-0.289C54.289,34.008,56,29.219,56,24 C56,10.746,45.254,0,32,0z M32,32c-4.418,0-8-3.582-8-8s3.582-8,8-8s8,3.582,8,8S36.418,32,32,32z" data-v-4b3f8441></path></g></svg><p class="text-sm font-medium text-gray-500 w-[200px]" data-v-4b3f8441> Cantilan, Surigao del Sur 8317 </p></div><div class="flex-row flex gap-2 items-center" data-v-4b3f8441><svg width="10" height="10" viewBox="0 0 15 15" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" data-v-4b3f8441><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-4b3f8441></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-4b3f8441></g><g id="SVGRepo_iconCarrier" data-v-4b3f8441><title data-v-4b3f8441>call [#192]</title><desc data-v-4b3f8441>Created with Sketch.</desc><defs data-v-4b3f8441></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-4b3f8441><g id="Dribbble-Light-Preview" transform="translate(-103.000000, -7321.000000)" fill="#9b7878" data-v-4b3f8441><g id="icons" transform="translate(56.000000, 160.000000)" data-v-4b3f8441><path d="M61.7302966,7173.99596 C61.2672966,7175.40296 59.4532966,7176.10496 58.1572966,7175.98796 C56.3872966,7175.82796 54.4612966,7174.88896 52.9992966,7173.85496 C50.8502966,7172.33496 48.8372966,7169.98396 47.6642966,7167.48896 C46.8352966,7165.72596 46.6492966,7163.55796 47.8822966,7161.95096 C48.3382966,7161.35696 48.8312966,7161.03996 49.5722966,7161.00296 C50.6002966,7160.95296 50.7442966,7161.54096 51.0972966,7162.45696 C51.3602966,7163.14196 51.7112966,7163.84096 51.9072966,7164.55096 C52.2742966,7165.87596 50.9912966,7165.93096 50.8292966,7167.01396 C50.7282966,7167.69696 51.5562966,7168.61296 51.9302966,7169.09996 C52.6632966,7170.05396 53.5442966,7170.87696 54.5382966,7171.50296 C55.1072966,7171.86196 56.0262966,7172.50896 56.6782966,7172.15196 C57.6822966,7171.60196 57.5872966,7169.90896 58.9912966,7170.48196 C59.7182966,7170.77796 60.4222966,7171.20496 61.1162966,7171.57896 C62.1892966,7172.15596 62.1392966,7172.75396 61.7302966,7173.99596 C61.4242966,7174.92396 62.0362966,7173.06796 61.7302966,7173.99596" id="call-[#192]" data-v-4b3f8441></path></g></g></g></g></svg><p class="text-sm font-medium text-gray-500" data-v-4b3f8441>086-212-2723</p></div><div class="flex-row flex gap-2 items-center" data-v-4b3f8441><svg width="10" height="10" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" stroke-width="3" stroke="#766060" fill="none" data-v-4b3f8441><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-4b3f8441></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-4b3f8441></g><g id="SVGRepo_iconCarrier" data-v-4b3f8441><path d="M39.93,55.72A24.86,24.86,0,1,1,56.86,32.15a37.24,37.24,0,0,1-.73,6" data-v-4b3f8441></path><path d="M37.86,51.1A47,47,0,0,1,32,56.7" data-v-4b3f8441></path><path d="M32,7A34.14,34.14,0,0,1,43.57,30a34.07,34.07,0,0,1,.09,4.85" data-v-4b3f8441></path><path d="M32,7A34.09,34.09,0,0,0,20.31,32.46c0,16.2,7.28,21,11.66,24.24" data-v-4b3f8441></path><line x1="10.37" y1="19.9" x2="53.75" y2="19.9" data-v-4b3f8441></line><line x1="32" y1="6.99" x2="32" y2="56.7" data-v-4b3f8441></line><line x1="11.05" y1="45.48" x2="37.04" y2="45.48" data-v-4b3f8441></line><line x1="7.14" y1="32.46" x2="56.86" y2="31.85" data-v-4b3f8441></line><path d="M53.57,57,58,52.56l-8-8,4.55-2.91a.38.38,0,0,0-.12-.7L39.14,37.37a.39.39,0,0,0-.46.46L42,53.41a.39.39,0,0,0,.71.13L45.57,49Z" data-v-4b3f8441></path></g></svg><p class="text-xs text-gray-500" data-v-4b3f8441>www.nemsu.du.ph</p></div></div><div class="flex w-full items-center justify-end gap-4" data-v-4b3f8441><img src="'+Wa+'" alt="School Logo" class="h-[50px] w-30" data-v-4b3f8441><img src="'+Ga+'" alt="School Logo" class="h-[50px] w-30" data-v-4b3f8441><img src="'+qa+'" alt="School Logo" class="h-[50px] w-30" data-v-4b3f8441></div></div>',1))],512),l.selectedStudent?((0,r.uX)(),(0,r.CE)("div",Fs,[(0,r.Lk)("div",Rs,[(0,r.Lk)("div",Us,[t[26]||(t[26]=(0,r.Lk)("h2",null,"Student Information",-1)),(0,r.Lk)("div",Ms,[(0,r.Lk)("div",Ps,[(0,r.Lk)("table",Vs,[t[24]||(t[24]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"text-nowrap"},"Student Id"),(0,r.Lk)("th",{class:"text-nowrap"},"Last Name"),(0,r.Lk)("th",{class:"text-nowrap"},"First Name"),(0,r.Lk)("th",{class:"text-nowrap"},"M.I."),(0,r.Lk)("th",{class:"text-nowrap"},"Sex"),(0,r.Lk)("th",{class:"text-nowrap"},"Course"),(0,r.Lk)("th",{class:"text-nowrap"},"Year Level")])],-1)),(0,r.Lk)("tbody",null,[(0,r.Lk)("tr",Ns,[(0,r.Lk)("td",null,(0,p.v_)(l.selectedStudent.student_id),1),(0,r.Lk)("td",null,(0,p.v_)(l.selectedStudent.lname),1),(0,r.Lk)("td",null,(0,p.v_)(l.selectedStudent.fname),1),(0,r.Lk)("td",null,(0,p.v_)(l.selectedStudent.mname),1),(0,r.Lk)("td",null,(0,p.v_)(l.selectedStudent.gender),1),(0,r.Lk)("td",null,(0,p.v_)(l.selectedStudent.course),1),(0,r.Lk)("td",null,(0,p.v_)(l.selectedStudent.year),1)])])])])]),t[27]||(t[27]=(0,r.Lk)("h2",null,"Student Grades",-1)),(0,r.Lk)("div",Xs,[(0,r.Lk)("table",$s,[t[25]||(t[25]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",{class:"text-nowrap"},[(0,r.Lk)("th",null,"Subject Code"),(0,r.Lk)("th",null,"Description"),(0,r.Lk)("th",null,"SY"),(0,r.Lk)("th",null,"Sem"),(0,r.Lk)("th",null,"Remarks"),(0,r.Lk)("th",null,"Instructor")])],-1)),(0,r.Lk)("tbody",Ds,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.grades,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.code},[(0,r.Lk)("td",Ys,(0,p.v_)(e.subject_no),1),(0,r.Lk)("td",Bs,(0,p.v_)(e.description),1),(0,r.Lk)("td",Ts,(0,p.v_)(e.sy),1),(0,r.Lk)("td",zs,(0,p.v_)(e.semester),1),(0,r.Lk)("td",{class:(0,p.C4)({"status-passed":"Passed"===e.remarks,"status-failed":"Failed"===e.remarks})},(0,p.v_)(e.remarks),3),(0,r.Lk)("td",Os,(0,p.v_)(e.instructor),1)])))),128))])])])]),(0,r.Lk)("div",Js,[t[31]||(t[31]=(0,r.Lk)("h3",null,"Please select the subjects",-1)),(0,r.Lk)("div",Ws,[(0,r.Lk)("div",Gs,[(0,r.Lk)("table",qs,[t[28]||(t[28]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Select"),(0,r.Lk)("th",null,"Subject Code"),(0,r.Lk)("th",null,"Description"),(0,r.Lk)("th",null,"Year Level"),(0,r.Lk)("th",null,"SY"),(0,r.Lk)("th",null,"Sem"),(0,r.Lk)("th",null,"Laboratory"),(0,r.Lk)("th",null,"Lecture"),(0,r.Lk)("th",null,"Units"),(0,r.Lk)("th",null,"Status")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.prospectos,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.code,class:(0,p.C4)({"bg-yellow-200":e.passed,"bg-blue-600":e.selected,"text-white":e.selected&&1==e.status,"bg-red-600":0==e.status})},[(0,r.Lk)("td",Ks,[1!=e?.passed&&1==e?.status?(0,r.bo)(((0,r.uX)(),(0,r.CE)("input",{key:0,class:"cursor-pointer",type:"checkbox","onUpdate:modelValue":t=>e.selected=t,onChange:t=>n.selectSubject(e)},null,40,Qs)),[[s.lH,e.selected]]):(0,r.Q3)("",!0)]),(0,r.Lk)("td",null,(0,p.v_)(e.code),1),(0,r.Lk)("td",null,(0,p.v_)(e.description),1),(0,r.Lk)("td",null,(0,p.v_)(e.year),1),(0,r.Lk)("td",null,(0,p.v_)(e.sy),1),(0,r.Lk)("td",null,(0,p.v_)(e.sem),1),(0,r.Lk)("td",null,(0,p.v_)(e.laboratory),1),(0,r.Lk)("td",null,(0,p.v_)(e.lecture),1),(0,r.Lk)("td",null,(0,p.v_)(e.units),1),(0,r.Lk)("td",{class:(0,p.C4)({"status-active":1===e.status,"status-inactive":0===e.status})},(0,p.v_)(1==e.status?"Active":"Not Active"),3)],2)))),128))])])]),t[30]||(t[30]=(0,r.Lk)("div",{class:"flex w-full justify-between mt-5"},[(0,r.Lk)("h2",{class:""},"Selected Subjects")],-1)),(0,r.Lk)("div",Hs,[(0,r.Lk)("table",Zs,[t[29]||(t[29]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",null,[(0,r.Lk)("th",null,"Subject Code"),(0,r.Lk)("th",null,"Description"),(0,r.Lk)("th",null,"Laboratory"),(0,r.Lk)("th",null,"Lecture"),(0,r.Lk)("th",null,"Units")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.selectSubjects,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.code,class:(0,p.C4)({"bg-yellow-200":e.passed})},[(0,r.Lk)("td",null,(0,p.v_)(e.code),1),(0,r.Lk)("td",null,(0,p.v_)(e.description),1),(0,r.Lk)("td",null,(0,p.v_)(e.laboratory),1),(0,r.Lk)("td",null,(0,p.v_)(e.lecture),1),(0,r.Lk)("td",null,(0,p.v_)(e.units),1)],2)))),128))])])]),(0,r.Lk)("div",er,[(0,r.Lk)("div",tr,[(0,r.Lk)("button",{class:"px-6 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition",onClick:t[2]||(t[2]=(...e)=>n.confirmSubmit&&n.confirmSubmit(...e))},"Submit Evaluation"),(0,r.Lk)("button",{class:"px-6 py-2 bg-gray-300 text-gray-700 rounded-md hover:bg-gray-400 transition",onClick:t[3]||(t[3]=(...e)=>n.closeEvaluation&&n.closeEvaluation(...e))},"Close")]),(0,r.Lk)("h2",ar,"Total Units: "+(0,p.v_)(l.selectSubjects.length>0?l.selectSubjects.reduce(((e,t)=>e+t.units),0):0),1)])])])])])):(0,r.Q3)("",!0),l.showModal?((0,r.uX)(),(0,r.CE)("div",sr,[(0,r.Lk)("div",rr,[t[38]||(t[38]=(0,r.Lk)("h2",null,"Confirm Submission",-1)),t[39]||(t[39]=(0,r.Lk)("p",null,"Are you sure you want to submit the evaluation?",-1)),(0,r.Lk)("div",or,[t[32]||(t[32]=(0,r.Lk)("label",{for:"sy",class:"block text-sm font-medium text-gray-700"},"School Year:",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[4]||(t[4]=e=>l.selected_school_year=e),id:"sy",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.eval_school_year,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id,value:e.attributes.year},(0,p.v_)(e.attributes.year),9,lr)))),128))],512),[[s.u1,l.selected_school_year]])]),(0,r.Lk)("div",nr,[t[34]||(t[34]=(0,r.Lk)("label",{for:"semester",class:"block text-sm font-medium text-gray-700"},"Semester:",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.eval_sem=e),id:"sem",required:"",class:"mt-1 block w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"},t[33]||(t[33]=[(0,r.Lk)("option",{value:"1"},"1st Semester",-1),(0,r.Lk)("option",{value:"2"},"2nd Semester",-1)]),512),[[s.u1,l.eval_sem]])]),(0,r.Lk)("div",ir,[(0,r.bF)(i,{onClick:n.saveAsPDF,class:"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-150"},{default:(0,r.k6)((()=>t[35]||(t[35]=[(0,r.eW)(" Print ")]))),_:1},8,["onClick"]),(0,r.bF)(i,{onClick:n.submitEvaluation,class:"bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-150"},{default:(0,r.k6)((()=>t[36]||(t[36]=[(0,r.eW)(" Save ")]))),_:1},8,["onClick"]),(0,r.bF)(i,{onClick:t[6]||(t[6]=e=>n.modal(!1)),class:"bg-red-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-150"},{default:(0,r.k6)((()=>t[37]||(t[37]=[(0,r.eW)(" Cancel ")]))),_:1})])])])):(0,r.Q3)("",!0)])}var cr=a(1749),ur=a(2125),pr=a.n(ur),mr={data(){return{print:!1,searchQuery:"",prospectos:[],grades:[],selectedStudent:null,selectSubjects:[],eval_school_year:null,eval_sem:null,selected_school_year:null,showModal:!1}},mounted(){this.fetchSchoolYears()},methods:{async saveAsPDF(){this.print=!1;const e=this.$refs.printSection;console.log(e);const t=await pr()(e,{scale:5}),a=t.toDataURL("image/png"),s=new cr.Ay("portrait","pt","a4"),r=s.internal.pageSize.getWidth(),o=s.internal.pageSize.getHeight(),l=t.width,n=t.height,i=n/l,d=r,c=d*i;console.log(o),s.addImage(a,"PNG",0,0,d,c),s.save(`evaluation-${this.selected_school_year}-${this.eval_sem}.pdf`)},async fetchSchoolYears(){try{const e=sessionStorage.getItem("jwt"),t=await S.A.get("https://api.nemsu-grading.online/api/school-years",{headers:{Authorization:`Bearer ${e}`}});this.eval_school_year=t.data.data}catch(e){We.oR.error(e.response.data.error.message),console.error("Error fetching school years:",e)}},async searchStudent(){if(this.searchQuery){const e=await S.A.get(`https://api.nemsu-grading.online/api/evaluation/${this.searchQuery}`,{headers:{Authorization:`Bearer ${sessionStorage.getItem("jwt")}`}}),{prospectos:t,student_info:a,grades:s}=e.data;if(0==a.length)return void We.oR.info("Student Id not found");this.selectedStudent=a[0],this.prospectos=t.map((e=>({...e,selected:!1}))),this.grades=s,We.oR.success("Successfully retrived student details")}},selectSubject(e){if(e.selected)this.selectSubjects.includes(e)||this.selectSubjects.push(e);else{const t=this.selectSubjects.indexOf(e);-1!==t&&this.selectSubjects.splice(t,1)}console.log("Selected subjects:",this.selectSubjects)},modal(e){this.print=e,this.showModal=!1},closeEvaluation(){this.selectedStudent=null,this.prospectos=[],this.grades=[],this.searchQuery="",this.selectSubjects=[],this.eval_school_year=null,this.eval_sem=null},confirmSubmit(){if(0==this.selectSubjects.length)return We.oR.info("Please select subject");this.showModal=!0,this.fetchSchoolYears()},async submitEvaluation(){if(console.log(this.selectSubjects),null==this.selected_school_year)return We.oR.error("Please select school year");if(null==this.eval_sem)return We.oR.error("Please select semester");try{const e=[];for(const t of this.selectSubjects){const a={school_year:this.selected_school_year,sem:String(this.eval_sem),student_id:String(this.selectedStudent.student_id),subject_code:t.code,description:t.description,laboratory:String(t.laboratory),lecture:String(t.lecture),time:"",day:"",instructor:"",units:String(t.units),evaluator:String(JSON.parse(sessionStorage.getItem("profile")).id)};e.push(a)}e.length>0?(console.log(e),await S.A.post("https://api.nemsu-grading.online/api/create-evaluation/",{data:e},{headers:{Authorization:`Bearer ${sessionStorage.getItem("jwt")}`}}),We.oR.success("Evaluation Submitted"),this.closeEvaluation()):We.oR.info("Please select subject"),this.showModal=!1}catch(e){console.log(e)}}}};const gr=(0,i.A)(mr,[["render",dr],["__scopeId","data-v-4b3f8441"]]);var br=gr;const fr={class:"container mx-auto p-6"},hr={class:"mb-6"},yr={class:"flex flex-col mb-4 mt-2"},vr={class:"flex flex-wrap"},xr={class:"flex items-center mr-6 cursor-pointer"},kr={class:"flex items-center mr-6 cursor-pointer"},Lr={class:"flex items-center mr-6 cursor-pointer"},wr={class:"flex items-center mr-6 cursor-pointer"},Sr={class:"flex items-center mr-6 cursor-pointer"},Cr={key:0,class:"mb-6 h-[550px] bg-yellow-50 overflow-auto"},_r={class:"min-w-full bg-white border border-gray-200 rounded-lg text-[12px]"},jr={class:"p-4"},Er={class:"p-4"},Ar={class:"p-4"},Ir={class:"p-4"},Fr={class:"p-4"},Rr={class:"p-4"},Ur={class:"p-4"},Mr={class:"p-4"},Pr={class:"p-4"},Vr={class:"p-4"},Nr={class:"p-4"},Xr={class:"p-4 flex space-x-2"},$r=["onClick"],Dr=["onClick"],Yr=["onClick"],Br={key:1,class:"text-gray-500"},Tr={key:0,class:"fixed inset-0 flex items-center justify-center bg-gray-900 bg-opacity-60 overflow-auto pt-10 text-sm"},zr={class:"bg-white mt-4 p-8 rounded-lg shadow-2xl h-[90%] max-w-lg w-full space-y-6"},Or={class:"text-2xl font-bold text-gray-800"},Jr={class:"space-y-1"},Wr=["disabled"],Gr={class:"space-y-1"},qr={class:"space-y-1"},Kr={class:"space-y-1"},Qr={class:"space-y-1"},Hr={class:"space-y-1"},Zr={class:"space-y-1"},eo={class:"space-y-1"},to={class:"space-y-1"},ao={class:"space-y-1"},so={class:"space-y-1"},ro={class:"space-y-1"},oo={class:"space-y-1"},lo={class:"space-y-1"},no={class:"space-y-1"},io={class:"flex justify-end space-x-3 mt-6"},co={type:"submit",class:"bg-blue-500 hover:bg-blue-600 text-white px-4 py-2 rounded-md"},uo={key:0,class:"fixed w-[100%] inset-0 flex items-center p-2 justify-center bg-gray-800 bg-opacity-50 overflow-auto text-[12px]"},po={class:"bg-white p-6 mt-10 rounded-lg shadow-lg w-[60%] text-[12px]"},mo={class:"text-lg font-semibold mb-4"},go={class:"min-w-full bg-white border border-gray-200 rounded-lg text-[12px]"},bo={class:"p-4"},fo={class:"p-4"},ho={class:"p-4"},yo={class:"p-4"},vo={class:"p-4"},xo={class:"p-4"};var ko={__name:"ManageStudent",setup(e){const t=(0,Et.KR)(),a=(0,Et.KR)([]),o=(0,Et.KR)(!1),l=(0,Et.KR)(!1),n=(0,Et.KR)(""),i=(0,Et.KR)(),d=(0,Et.KR)(!1),c=(0,Et.KR)({id:"",student_id:"",fname:"",mname:"",lname:"",email:"",bdate:"",status:"",mobile:"",address:"",gender:"",activated:"",username:"",password:"",telegram:"",year:""}),u=(0,Et.KR)(null),m=(0,Et.KR)(""),g=(0,Et.KR)(""),b=async()=>{try{d.value=!0;const e=sessionStorage.getItem("jwt"),t=await S.A.get("https://api.nemsu-grading.online/api/students",{headers:{Authorization:`Bearer ${e}`}});a.value=t.data.data}catch(e){console.error("Error fetching students:",e)}finally{d.value=!1}},f=async()=>{try{d.value=!0;const e=sessionStorage.getItem("jwt");await S.A.post("https://api.nemsu-grading.online/api/students",{data:c.value},{headers:{Authorization:`Bearer ${e}`}}),b(),k()}catch(e){e.response.data.error.message.includes("unique")&&alert("Error creating student: Student already exists"),console.error("Error creating student:",e)}finally{d.value=!1}},h=async()=>{try{d.value=!0;const e=sessionStorage.getItem("jwt");await S.A.put(`https://api.nemsu-grading.online/api/students/${u.value}`,{data:c.value},{headers:{Authorization:`Bearer ${e}`}}),b(),k()}catch(e){console.error("Error updating student:",e)}finally{d.value=!1}},y=async e=>{try{d.value=!0;const t=sessionStorage.getItem("jwt");await S.A.delete(`https://api.nemsu-grading.online/api/students/${e}`,{headers:{Authorization:`Bearer ${t}`}}),b()}catch(t){console.error("Error deleting student:",t)}finally{d.value=!1}},v=()=>{c.value={student_id:"",fname:"",mname:"",lname:"",email:"",bdate:"",mobile:"",address:"",gender:"",telegram:""},l.value=!1,o.value=!0},x=e=>{c.value={...e.attributes},u.value=e.id,l.value=!0,o.value=!0},k=()=>{o.value=!1},L=(0,r.EW)((()=>{const e=m.value.toLowerCase(),t=g.value.toLowerCase(),s=[...a.value].sort(((e,t)=>e.attributes.activated===t.attributes.activated?-1:e.attributes.activated?1:-1));return s.filter((a=>{const s=JSON.stringify(a.attributes).toLowerCase().includes(e),r=""===t||a.attributes.year.toLowerCase().includes(t);return console.log(r),s&&r}))})),w=async e=>{try{d.value=!0,i.value=e.grades,u.value=e.id,t.value=!0}catch(a){console.error("Error fetching grades:",a)}finally{d.value=!1}},C=()=>{t.value=!1,i.value=[]};return(0,r.sV)((()=>{n.value=sessionStorage.getItem("role"),b()})),(e,a)=>((0,r.uX)(),(0,r.CE)("div",fr,[(0,r.bF)(Je,{isLoading:d.value},null,8,["isLoading"]),(0,r.Lk)("div",{class:"mb-6 flex flex-row justify-between"},[a[22]||(a[22]=(0,r.Lk)("h1",{class:"text-3xl font-bold"},"Manage Students",-1)),(0,r.Lk)("button",{onClick:v,class:"mt-4 bg-green-500 text-white px-4 py-2 rounded-md text-[12px]"}," Add Student ")]),(0,r.Lk)("div",hr,[(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":a[0]||(a[0]=e=>m.value=e),type:"text",placeholder:"Search students...",class:"block p-2 border border-gray-300 rounded-md w-[300px]"},null,512),[[s.Jo,m.value]]),(0,r.Lk)("div",yr,[a[28]||(a[28]=(0,r.Lk)("span",{class:"font-semibold text-lg mb-2"},"Group By: Year",-1)),(0,r.Lk)("div",vr,[(0,r.Lk)("label",xr,[(0,r.bo)((0,r.Lk)("input",{type:"radio",value:"","onUpdate:modelValue":a[1]||(a[1]=e=>g.value=e),class:"form-radio text-blue-600 h-4 w-4 mr-2"},null,512),[[s.XL,g.value]]),a[23]||(a[23]=(0,r.Lk)("span",{class:"text-gray-700"},"None",-1))]),(0,r.Lk)("label",kr,[(0,r.bo)((0,r.Lk)("input",{type:"radio",value:"1st year","onUpdate:modelValue":a[2]||(a[2]=e=>g.value=e),class:"form-radio text-blue-600 h-4 w-4 mr-2"},null,512),[[s.XL,g.value]]),a[24]||(a[24]=(0,r.Lk)("span",{class:"text-gray-700"},"1st year",-1))]),(0,r.Lk)("label",Lr,[(0,r.bo)((0,r.Lk)("input",{type:"radio",value:"2nd year","onUpdate:modelValue":a[3]||(a[3]=e=>g.value=e),class:"form-radio text-blue-600 h-4 w-4 mr-2"},null,512),[[s.XL,g.value]]),a[25]||(a[25]=(0,r.Lk)("span",{class:"text-gray-700"},"2nd year",-1))]),(0,r.Lk)("label",wr,[(0,r.bo)((0,r.Lk)("input",{type:"radio",value:"3rd year","onUpdate:modelValue":a[4]||(a[4]=e=>g.value=e),class:"form-radio text-blue-600 h-4 w-4 mr-2"},null,512),[[s.XL,g.value]]),a[26]||(a[26]=(0,r.Lk)("span",{class:"text-gray-700"},"3rd year",-1))]),(0,r.Lk)("label",Sr,[(0,r.bo)((0,r.Lk)("input",{type:"radio",value:"4th year","onUpdate:modelValue":a[5]||(a[5]=e=>g.value=e),class:"form-radio text-blue-600 h-4 w-4 mr-2"},null,512),[[s.XL,g.value]]),a[27]||(a[27]=(0,r.Lk)("span",{class:"text-gray-700"},"4th year",-1))])])])]),L.value.length?((0,r.uX)(),(0,r.CE)("div",Cr,[(0,r.Lk)("table",_r,[a[29]||(a[29]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",{class:"border-b"},[(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Student ID"),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Year"),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Last Name"),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"First Name"),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Middle Name"),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Email"),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Mobile"),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Status"),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Address"),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Gender"),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Activated"),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Actions")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(L.value,(e=>((0,r.uX)(),(0,r.CE)("tr",{class:(0,p.C4)([{"bg-yellow-200":!e.attributes.activated},"border-b"]),key:e.id},[(0,r.Lk)("td",jr,(0,p.v_)(e.attributes.student_id),1),(0,r.Lk)("td",Er,(0,p.v_)(e.attributes.year),1),(0,r.Lk)("td",Ar,(0,p.v_)(e.attributes.lname),1),(0,r.Lk)("td",Ir,(0,p.v_)(e.attributes.fname),1),(0,r.Lk)("td",Fr,(0,p.v_)(e.attributes.mname),1),(0,r.Lk)("td",Rr,(0,p.v_)(e.attributes.email),1),(0,r.Lk)("td",Ur,(0,p.v_)(e.attributes.mobile),1),(0,r.Lk)("td",Mr,(0,p.v_)(e.attributes.status),1),(0,r.Lk)("td",Pr,(0,p.v_)(e.attributes.address),1),(0,r.Lk)("td",Vr,(0,p.v_)(e.attributes.gender),1),(0,r.Lk)("td",Nr,(0,p.v_)(e.attributes.activated),1),(0,r.Lk)("td",Xr,[(0,r.Lk)("button",{onClick:t=>w(e),class:"bg-blue-500 text-white px-3 py-1 rounded-md"}," View Grade ",8,$r),"admin"===n.value?((0,r.uX)(),(0,r.CE)("button",{key:0,onClick:t=>x(e),class:"bg-blue-500 text-white px-3 py-1 rounded-md"}," Edit ",8,Dr)):(0,r.Q3)("",!0),"admin"===n.value?((0,r.uX)(),(0,r.CE)("button",{key:1,onClick:t=>y(e.id),class:"bg-red-500 text-white px-3 py-1 rounded-md"}," Delete ",8,Yr)):(0,r.Q3)("",!0)])],2)))),128))])])])):((0,r.uX)(),(0,r.CE)("div",Br,"No students available.")),(0,r.bF)(s.eB,{name:"fade"},{default:(0,r.k6)((()=>[o.value?((0,r.uX)(),(0,r.CE)("div",Tr,[(0,r.Lk)("div",zr,[(0,r.Lk)("h2",Or,(0,p.v_)(l.value?"Edit Student":"Add New Student"),1),(0,r.Lk)("form",{class:"overflow-auto h-[90%] p-3",onSubmit:a[21]||(a[21]=(0,s.D$)((e=>l.value?h():f()),["prevent"]))},[(0,r.Lk)("div",Jr,[a[30]||(a[30]=(0,r.Lk)("label",{for:"student_id",class:"block text-base font-semibold text-gray-700"},"Student ID",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"student_id","onUpdate:modelValue":a[6]||(a[6]=e=>c.value.student_id=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500",disabled:e.isEdit},null,8,Wr),[[s.Jo,c.value.student_id]])]),(0,r.Lk)("div",Gr,[a[31]||(a[31]=(0,r.Lk)("label",{for:"username",class:"block text-base font-semibold text-gray-700"},"Username",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"username","onUpdate:modelValue":a[7]||(a[7]=e=>c.value.username=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},null,512),[[s.Jo,c.value.username]])]),(0,r.Lk)("div",qr,[a[32]||(a[32]=(0,r.Lk)("label",{for:"password",class:"block text-base font-semibold text-gray-700"},"Password",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password",id:"password","onUpdate:modelValue":a[8]||(a[8]=e=>c.value.password=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},null,512),[[s.Jo,c.value.password]])]),(0,r.Lk)("div",Kr,[a[33]||(a[33]=(0,r.Lk)("label",{for:"fname",class:"block text-base font-semibold text-gray-700"},"First Name",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"fname","onUpdate:modelValue":a[9]||(a[9]=e=>c.value.fname=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},null,512),[[s.Jo,c.value.fname]])]),(0,r.Lk)("div",Qr,[a[34]||(a[34]=(0,r.Lk)("label",{for:"mname",class:"block text-base font-semibold text-gray-700"},"Middle Name",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"mname","onUpdate:modelValue":a[10]||(a[10]=e=>c.value.mname=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},null,512),[[s.Jo,c.value.mname]])]),(0,r.Lk)("div",Hr,[a[35]||(a[35]=(0,r.Lk)("label",{for:"lname",class:"block text-base font-semibold text-gray-700"},"Last Name",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"lname","onUpdate:modelValue":a[11]||(a[11]=e=>c.value.lname=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},null,512),[[s.Jo,c.value.lname]])]),(0,r.Lk)("div",Zr,[a[36]||(a[36]=(0,r.Lk)("label",{for:"email",class:"block text-base font-semibold text-gray-700"},"Email",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":a[12]||(a[12]=e=>c.value.email=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},null,512),[[s.Jo,c.value.email]])]),(0,r.Lk)("div",eo,[a[37]||(a[37]=(0,r.Lk)("label",{for:"bdate",class:"block text-base font-semibold text-gray-700"},"Birthdate",-1)),(0,r.bo)((0,r.Lk)("input",{type:"date",id:"bdate","onUpdate:modelValue":a[13]||(a[13]=e=>c.value.bdate=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},null,512),[[s.Jo,c.value.bdate]])]),(0,r.Lk)("div",to,[a[38]||(a[38]=(0,r.Lk)("label",{for:"mobile",class:"block text-base font-semibold text-gray-700"},"Mobile",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"mobile","onUpdate:modelValue":a[14]||(a[14]=e=>c.value.mobile=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},null,512),[[s.Jo,c.value.mobile]])]),(0,r.Lk)("div",ao,[a[39]||(a[39]=(0,r.Lk)("label",{for:"address",class:"block text-base font-semibold text-gray-700"},"Address",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"address","onUpdate:modelValue":a[15]||(a[15]=e=>c.value.address=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},null,512),[[s.Jo,c.value.address]])]),(0,r.Lk)("div",so,[a[41]||(a[41]=(0,r.Lk)("label",{for:"gender",class:"block text-base font-semibold text-gray-700"},"Gender",-1)),(0,r.bo)((0,r.Lk)("select",{id:"gender","onUpdate:modelValue":a[16]||(a[16]=e=>c.value.gender=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},a[40]||(a[40]=[(0,r.Lk)("option",{value:"Male"},"Male",-1),(0,r.Lk)("option",{value:"Female"},"Female",-1),(0,r.Lk)("option",{value:"Other"},"Other",-1)]),512),[[s.u1,c.value.gender]])]),(0,r.Lk)("div",ro,[a[43]||(a[43]=(0,r.Lk)("label",{for:"status",class:"block text-base font-semibold text-gray-700"},"Status",-1)),(0,r.bo)((0,r.Lk)("select",{id:"status","onUpdate:modelValue":a[17]||(a[17]=e=>c.value.status=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},a[42]||(a[42]=[(0,r.Lk)("option",{value:"Regular"},"Regular",-1),(0,r.Lk)("option",{value:"Irregular"},"Irregular",-1)]),512),[[s.u1,c.value.status]])]),(0,r.Lk)("div",oo,[a[45]||(a[45]=(0,r.Lk)("label",{for:"year",class:"block text-base font-semibold text-gray-700"},"Year Level",-1)),(0,r.bo)((0,r.Lk)("select",{id:"year","onUpdate:modelValue":a[18]||(a[18]=e=>c.value.year=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},a[44]||(a[44]=[(0,r.Lk)("option",{value:"1st Year"},"1st year",-1),(0,r.Lk)("option",{value:"2nd Year"},"2nd Year",-1),(0,r.Lk)("option",{value:"3rd Year"},"3rd Year",-1),(0,r.Lk)("option",{value:"4th Year"},"4th Year",-1),(0,r.Lk)("option",{value:"5th Year"},"5th Year",-1)]),512),[[s.u1,c.value.year]])]),(0,r.Lk)("div",lo,[a[47]||(a[47]=(0,r.Lk)("label",{for:"activated",class:"block text-base font-semibold text-gray-700"},"Activated",-1)),(0,r.bo)((0,r.Lk)("select",{id:"activated","onUpdate:modelValue":a[19]||(a[19]=e=>c.value.activated=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},a[46]||(a[46]=[(0,r.Lk)("option",{value:"true"},"True",-1),(0,r.Lk)("option",{value:"false"},"False",-1)]),512),[[s.u1,c.value.activated]])]),(0,r.Lk)("div",no,[a[48]||(a[48]=(0,r.Lk)("label",{for:"telegram",class:"block text-base font-semibold text-gray-700"},"Guardian Telegram",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"telegram","onUpdate:modelValue":a[20]||(a[20]=e=>c.value.telegram=e),class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},null,512),[[s.Jo,c.value.telegram]])]),(0,r.Lk)("div",io,[(0,r.Lk)("button",co,(0,p.v_)(l.value?"Update":"Create"),1),(0,r.Lk)("button",{onClick:k,type:"button",class:"bg-gray-500 hover:bg-gray-600 text-white px-4 py-2 rounded-md"}," Cancel ")])],32)])])):(0,r.Q3)("",!0)])),_:1}),(0,r.bF)(s.eB,{name:"fade"},{default:(0,r.k6)((()=>[t.value?((0,r.uX)(),(0,r.CE)("div",uo,[(0,r.Lk)("div",po,[(0,r.Lk)("h2",mo,"Grades for Student ID: "+(0,p.v_)(u.value),1),(0,r.Lk)("table",go,[a[49]||(a[49]=(0,r.Lk)("thead",null,[(0,r.Lk)("tr",{class:"border-b"},[(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Subject"),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Description"),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"School year"),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Semester"),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Grade"),(0,r.Lk)("th",{class:"px-6 py-3 border-b border-gray-200 bg-gray-50 text-left font-medium text-gray-700 uppercase text-[12px]"},"Units")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(i.value,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.subject},[(0,r.Lk)("td",bo,(0,p.v_)(e.subject_no),1),(0,r.Lk)("td",fo,(0,p.v_)(e.description),1),(0,r.Lk)("td",ho,(0,p.v_)(e.sy),1),(0,r.Lk)("td",yo,(0,p.v_)(e.semester),1),(0,r.Lk)("td",vo,(0,p.v_)(e.grade),1),(0,r.Lk)("td",xo,(0,p.v_)(e.units),1)])))),128))])]),(0,r.Lk)("div",{class:"flex justify-end mt-4"},[(0,r.Lk)("button",{onClick:C,class:"bg-gray-500 text-white px-4 py-2 rounded-md"},"Close")])])])):(0,r.Q3)("",!0)])),_:1})]))}};const Lo=ko;var wo=Lo;const So={class:"flex items-center justify-center min-h-screen bg-gradient-to-r from-purple-200 to-indigo-300"},Co={class:"register-container"},_o={class:"text-center"},jo={class:"account-type-toggle"},Eo={key:0,class:"text-[12px] h-[30rem] px-5 overflow-auto border-b"},Ao={class:"mb-4"},Io={class:"mb-4"},Fo={class:"mb-4"},Ro={class:"mb-4"},Uo={class:"mb-4"},Mo={class:"mb-4"},Po={class:"mb-4"},Vo={class:"mb-4"},No={class:"mb-4"},Xo={class:"mb-4"},$o={key:1,class:"text-[12px] h-[30rem] px-5 overflow-auto border-b"},Do={class:"mb-4"},Yo={class:"mb-4"},Bo={class:"mb-4"},To=["disabled"],zo={class:"mb-4"},Oo={class:"mb-4"},Jo={class:"mb-4"},Wo={class:"mb-4"},Go={class:"mb-4"},qo={class:"mb-4"},Ko={class:"mb-4"},Qo={class:"mb-4"},Ho={class:"mb-4"},Zo=["disabled"],el={class:"mb-4"},tl={class:"mb-4"},al={class:"mb-4"},sl=["disabled"];function rl(e,t,a,o,l,n){const i=(0,r.g2)("loading-component"),d=(0,r.g2)("router-link");return(0,r.uX)(),(0,r.CE)("div",So,[t[61]||(t[61]=(0,r.Lk)("div",{class:"w-full max-w-md p-8 bg-white shadow-lg"},[(0,r.Lk)("img",{src:m,alt:"Profile Picture",class:"w-full h-full border-4 border-white object-cover"})],-1)),(0,r.Lk)("div",Co,[(0,r.bF)(i,{isLoading:e.isLoading},null,8,["isLoading"]),(0,r.Lk)("h2",_o,"Register as "+(0,p.v_)(o.selectedAccountType),1),(0,r.Lk)("form",{onSubmit:t[27]||(t[27]=(0,s.D$)(((...e)=>o.register&&o.register(...e)),["prevent"])),class:"register-form"},[(0,r.Lk)("div",jo,[(0,r.Lk)("label",null,[(0,r.bo)((0,r.Lk)("input",{type:"radio",value:"student","onUpdate:modelValue":t[0]||(t[0]=e=>o.accountType=e),required:""},null,512),[[s.XL,o.accountType]]),t[28]||(t[28]=(0,r.eW)(" Student "))]),(0,r.Lk)("label",null,[(0,r.bo)((0,r.Lk)("input",{type:"radio",value:"instructor","onUpdate:modelValue":t[1]||(t[1]=e=>o.accountType=e),required:""},null,512),[[s.XL,o.accountType]]),t[29]||(t[29]=(0,r.eW)(" Instructor "))])]),o.isInstructor?((0,r.uX)(),(0,r.CE)("div",Eo,[(0,r.Lk)("div",Ao,[t[30]||(t[30]=(0,r.Lk)("label",{for:"idNo"},"Id Number",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>o.newInstructor.idNo=e),id:"idNo",type:"text",class:"input-field",required:""},null,512),[[s.Jo,o.newInstructor.idNo]])]),(0,r.Lk)("div",Io,[t[31]||(t[31]=(0,r.Lk)("label",{for:"email"},"Username",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>o.newInstructor.username=e),id:"username",type:"text",class:"input-field",required:""},null,512),[[s.Jo,o.newInstructor.username]])]),(0,r.Lk)("div",Fo,[t[32]||(t[32]=(0,r.Lk)("label",{for:"email"},"Email",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[4]||(t[4]=e=>o.newInstructor.email=e),id:"email",type:"text",class:"input-field",required:""},null,512),[[s.Jo,o.newInstructor.email]])]),(0,r.Lk)("div",Ro,[t[33]||(t[33]=(0,r.Lk)("label",{for:"password"},"Password",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>o.newInstructor.password=e),id:"username",type:"text",class:"input-field",required:""},null,512),[[s.Jo,o.newInstructor.password]])]),(0,r.Lk)("div",Uo,[t[34]||(t[34]=(0,r.Lk)("label",{for:"fname"},"First Name",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[6]||(t[6]=e=>o.newInstructor.fname=e),id:"fname",type:"text",class:"input-field",required:""},null,512),[[s.Jo,o.newInstructor.fname]])]),(0,r.Lk)("div",Mo,[t[35]||(t[35]=(0,r.Lk)("label",{for:"lname"},"Last Name",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[7]||(t[7]=e=>o.newInstructor.lname=e),id:"lname",type:"text",class:"input-field",required:""},null,512),[[s.Jo,o.newInstructor.lname]])]),(0,r.Lk)("div",Po,[t[36]||(t[36]=(0,r.Lk)("label",{for:"address"},"Address",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>o.newInstructor.address=e),id:"address",type:"text",class:"input-field"},null,512),[[s.Jo,o.newInstructor.address]])]),(0,r.Lk)("div",Vo,[t[37]||(t[37]=(0,r.Lk)("label",{for:"bdate"},"Birth Date",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[9]||(t[9]=e=>o.newInstructor.bdate=e),id:"bdate",type:"date",class:"input-field"},null,512),[[s.Jo,o.newInstructor.bdate]])]),(0,r.Lk)("div",No,[t[39]||(t[39]=(0,r.Lk)("label",{for:"gender"},"Gender",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[10]||(t[10]=e=>o.newInstructor.gender=e),id:"gender",class:"input-field",required:""},t[38]||(t[38]=[(0,r.Lk)("option",{value:"Male"},"Male",-1),(0,r.Lk)("option",{value:"Female"},"Female",-1),(0,r.Lk)("option",{value:"Other"},"Other",-1)]),512),[[s.u1,o.newInstructor.gender]])]),(0,r.Lk)("div",Xo,[t[40]||(t[40]=(0,r.Lk)("label",{for:"phone_no"},"Phone Number",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[11]||(t[11]=e=>o.newInstructor.phone_no=e),id:"phone_no",type:"tel",class:"input-field"},null,512),[[s.Jo,o.newInstructor.phone_no]])])])):((0,r.uX)(),(0,r.CE)("div",$o,[(0,r.Lk)("div",Do,[t[41]||(t[41]=(0,r.Lk)("label",{for:"username"},"Username",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>o.studentForm.username=e),id:"username",type:"text",class:"input-field",required:""},null,512),[[s.Jo,o.studentForm.username]])]),(0,r.Lk)("div",Yo,[t[42]||(t[42]=(0,r.Lk)("label",{for:"password"},"Password",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>o.studentForm.password=e),id:"username",type:"text",class:"input-field",required:""},null,512),[[s.Jo,o.studentForm.password]])]),(0,r.Lk)("div",Bo,[t[43]||(t[43]=(0,r.Lk)("label",{for:"student_id"},"Student ID:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"student_id","onUpdate:modelValue":t[14]||(t[14]=e=>o.studentForm.student_id=e),class:"input-field",disabled:e.isEdit},null,8,To),[[s.Jo,o.studentForm.student_id]])]),(0,r.Lk)("div",zo,[t[44]||(t[44]=(0,r.Lk)("label",{for:"fname"},"First Name:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"fname","onUpdate:modelValue":t[15]||(t[15]=e=>o.studentForm.fname=e),class:"input-field"},null,512),[[s.Jo,o.studentForm.fname]])]),(0,r.Lk)("div",Oo,[t[45]||(t[45]=(0,r.Lk)("label",{for:"mname"},"Middle Name:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"mname","onUpdate:modelValue":t[16]||(t[16]=e=>o.studentForm.mname=e),class:"input-field"},null,512),[[s.Jo,o.studentForm.mname]])]),(0,r.Lk)("div",Jo,[t[46]||(t[46]=(0,r.Lk)("label",{for:"lname"},"Last Name:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"lname","onUpdate:modelValue":t[17]||(t[17]=e=>o.studentForm.lname=e),class:"input-field"},null,512),[[s.Jo,o.studentForm.lname]])]),(0,r.Lk)("div",Wo,[t[47]||(t[47]=(0,r.Lk)("label",{for:"email"},"Email:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email",id:"email","onUpdate:modelValue":t[18]||(t[18]=e=>o.studentForm.email=e),class:"input-field"},null,512),[[s.Jo,o.studentForm.email]])]),(0,r.Lk)("div",Go,[t[48]||(t[48]=(0,r.Lk)("label",{for:"bdate"},"Birthdate:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"date",id:"bdate","onUpdate:modelValue":t[19]||(t[19]=e=>o.studentForm.bdate=e),class:"input-field"},null,512),[[s.Jo,o.studentForm.bdate]])]),(0,r.Lk)("div",qo,[t[49]||(t[49]=(0,r.Lk)("label",{for:"mobile"},"Mobile:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"mobile","onUpdate:modelValue":t[20]||(t[20]=e=>o.studentForm.mobile=e),class:"input-field"},null,512),[[s.Jo,o.studentForm.mobile]])]),(0,r.Lk)("div",Ko,[t[50]||(t[50]=(0,r.Lk)("label",{for:"address"},"Address:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"address","onUpdate:modelValue":t[21]||(t[21]=e=>o.studentForm.address=e),class:"input-field"},null,512),[[s.Jo,o.studentForm.address]])]),(0,r.Lk)("div",Qo,[t[52]||(t[52]=(0,r.Lk)("label",{for:"gender"},"Gender:",-1)),(0,r.bo)((0,r.Lk)("select",{id:"gender","onUpdate:modelValue":t[22]||(t[22]=e=>o.studentForm.gender=e),class:"input-field"},t[51]||(t[51]=[(0,r.Lk)("option",{value:"Male"},"Male",-1),(0,r.Lk)("option",{value:"Female"},"Female",-1),(0,r.Lk)("option",{value:"Other"},"Other",-1)]),512),[[s.u1,o.studentForm.gender]])]),(0,r.Lk)("div",Ho,[t[53]||(t[53]=(0,r.Lk)("label",{for:"course"},"Course:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"course","onUpdate:modelValue":t[23]||(t[23]=e=>o.studentForm.course=e),class:"input-field",disabled:e.isEdit},null,8,Zo),[[s.Jo,o.studentForm.course]])]),(0,r.Lk)("div",el,[t[55]||(t[55]=(0,r.Lk)("label",{for:"year"},"Year Level:",-1)),(0,r.bo)((0,r.Lk)("select",{id:"year","onUpdate:modelValue":t[24]||(t[24]=e=>o.studentForm.year=e),required:"",class:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring focus:ring-blue-200 focus:border-blue-500"},t[54]||(t[54]=[(0,r.Lk)("option",{value:"1st Year"},"1st year",-1),(0,r.Lk)("option",{value:"2nd Year"},"2nd Year",-1),(0,r.Lk)("option",{value:"3rd Year"},"3rd Year",-1),(0,r.Lk)("option",{value:"4th Year"},"4th Year",-1)]),512),[[s.u1,o.studentForm.year]])]),(0,r.Lk)("div",tl,[t[57]||(t[57]=(0,r.Lk)("label",{for:"status"},"Status:",-1)),(0,r.bo)((0,r.Lk)("select",{id:"status","onUpdate:modelValue":t[25]||(t[25]=e=>o.studentForm.status=e),class:"input-field"},t[56]||(t[56]=[(0,r.Lk)("option",{value:"Regular"},"Regular",-1),(0,r.Lk)("option",{value:"Irregular"},"Irregular",-1)]),512),[[s.u1,o.studentForm.status]])]),(0,r.Lk)("div",al,[t[58]||(t[58]=(0,r.Lk)("label",{for:"course"},"Guardian Telegram Username:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text",id:"course","onUpdate:modelValue":t[26]||(t[26]=e=>o.studentForm.telegram=e),class:"input-field",disabled:e.isEdit},null,8,sl),[[s.Jo,o.studentForm.telegram]])])])),t[60]||(t[60]=(0,r.Lk)("button",{type:"submit",class:"bg-blue-600 rounded-sm w-full my-2 hover:bg-yellow-300 text-white hover:text-black hover:border items-center justify-center flex h-10 text-center"},"Register",-1)),(0,r.bF)(d,{to:"/sign-in",class:"bg-gray-300 w-full rounded-sm items-center hover:bg-gray-600 justify-center flex h-10 text-center"},{default:(0,r.k6)((()=>t[59]||(t[59]=[(0,r.eW)("Go Back to Sign In")]))),_:1})],32)])])}var ol={components:{LoadingComponent:Je},name:"RegisterComponent",setup(){const e=(0,Et.KR)(""),t=(0,Et.KR)(""),a=(0,Et.KR)(""),s=(0,Et.KR)("student"),o=(0,Et.KR)({idNo:"",username:"",fname:"",lname:"",address:"",bdate:"",role:"",gender:"",phone_no:"",email:"",password:""}),l=(0,Et.KR)({student_id:"",fname:"",mname:"",lname:"",email:"",bdate:"",mobile:"",address:"",gender:"",status:"",course:"",year:"",password:"",username:"",telegram:""}),n=(0,Et.KR)(!1),i=(0,Et.KR)([]),d=(0,r.EW)((()=>"instructor"===s.value)),c=(0,r.EW)((()=>d.value?"Instructor":"Student")),u=async()=>{if(d.value){n.value=!0;const t={email:o.value.email,username:o.value.username,password:o.value.password,fname:o.value.fname,lname:o.value.lname,address:o.value.address,bdate:o.value.bdate,gender:o.value.gender,phone_no:o.value.phone_no,activated:!1,role:{id:3,position:{end:!0}}};try{const e=await S.A.post("https://api.nemsu-grading.online/api/auth/local/register",t,{headers:{"Content-Type":"application/json"}});console.log("Instructor registered:",e),We.oR.success("Account Registered")}catch(e){We.oR.error(e.response?.data.error.message),console.error("Error registering instructor:",e)}finally{n.value=!1}}else{const t={student_id:l.value.student_id,fname:l.value.fname,mname:l.value.mname,lname:l.value.lname,email:l.value.email,bdate:l.value.bdate,mobile:l.value.mobile,address:l.value.address,gender:l.value.gender,status:l.value.status,activated:!1,course:l.value.course,year:l.value.year,password:l.value.password,username:l.value.username,telegram:l.value.telegram};try{n.value=!0;const e=await S.A.post("https://api.nemsu-grading.online/api/students",{data:t},{headers:{"Content-Type":"application/json"}});console.log("student registered:",e),We.oR.success("Account Registered")}catch(e){We.oR.error(e.response?.data.error.message),console.error("Error registering instructor:",e)}finally{n.value=!1}}};return{name:e,email:t,password:a,accountType:s,newInstructor:o,studentForm:l,roles:i,isInstructor:d,selectedAccountType:c,register:u}}};const ll=(0,i.A)(ol,[["render",rl],["__scopeId","data-v-55e82ea4"]]);var nl=ll;const il={class:"flex flex-col items-center justify-center min-h-screen bg-gray-100"},dl={key:0,class:"w-full max-w-md p-8 bg-white rounded-lg shadow-lg"},cl={key:0,class:"text-red-600 text-sm"},ul={class:"flex items-center justify-center"},pl=["disabled"],ml={key:1,class:"w-full max-w-5xl p-8 bg-white rounded-lg shadow-lg"},gl={class:"mb-4"},bl={class:"flex border-b"},fl={class:"flex-row flex gap-1 items-center justify-start mb-5"},hl=["value"],yl={ref:"printSection",class:"print-section"},vl={class:"flex items-center mb-4"},xl={class:"flex w-full space-x-4 items-center justify-center gap-4"},kl={class:"flex self-center flex-col items-center justify-center"},Ll={class:"text-sm font-medium text-gray-500"},wl={class:"text-xs text-gray-500"},Sl={class:"border-t border-b py-4 mb-2"},Cl={class:"grid grid-cols-2 gap-4 mt-[30px]"},_l={class:"text-sm font-medium text-gray-700"},jl={class:"text-sm font-medium text-gray-700"},El={class:"text-sm font-medium text-gray-700"},Al={class:"text-sm font-medium text-gray-700"},Il={class:"text-sm font-medium text-gray-700"},Fl={class:"text-sm font-medium text-gray-700"},Rl={class:"text-sm font-medium text-gray-700"},Ul={class:"text-sm font-medium text-gray-700"},Ml={key:0,class:"text-sm font-medium text-gray-700"},Pl={key:0,class:"mt-4"},Vl={class:"min-w-full table-auto border border-gray-300"},Nl={class:"px-2 py-2 border text-sm text-gray-600"},Xl={class:"px-2 py-2 border text-sm text-gray-600"},$l={class:"px-2 py-2 border text-sm text-gray-600"},Dl={class:"px-2 py-2 border text-sm text-gray-600"},Yl={class:"px-2 py-2 border text-sm text-gray-600"},Bl={class:"px-2 py-2 border text-sm text-gray-600"},Tl={class:"px-2 py-2 border text-sm text-gray-600"},zl={class:"px-2 py-2 border text-sm text-gray-600"},Ol={class:"px-2 py-2 border text-sm text-gray-600"},Jl={class:"text-right mt-4 text-sm font-semibold text-gray-700"},Wl={key:1,class:"mt-4"},Gl={class:"min-w-full table-auto border border-gray-300"},ql={class:"px-2 py-2 border text-sm text-gray-600"},Kl={class:"px-2 py-2 border text-sm text-gray-600"},Ql={class:"px-2 py-2 border text-sm text-gray-600"},Hl={class:"px-2 py-2 border text-sm text-gray-600"},Zl={class:"px-2 py-2 border text-sm text-gray-600"},en={class:"px-2 py-2 border text-sm text-gray-600"},tn={class:"px-2 py-2 border text-sm text-gray-600"},an={class:"px-2 py-2 border text-sm text-gray-600"},sn={class:"px-2 py-2 border text-sm text-gray-600"},rn={class:"px-2 py-2 border text-sm text-gray-600"},on={class:"px-2 py-2 border text-sm text-gray-600"},ln={class:"flex justify-between"},nn={key:0,class:"text-left mt-4 text-sm font-semibold text-gray-700"},dn={class:"text-right mt-4 text-sm font-semibold text-gray-700"},cn={class:"text-left mt-12 text-sm text-gray-700"},un={class:"uppercase underline"},pn={class:"text-left mt-12 text-sm text-gray-700"},mn={class:"uppercase underline"},gn={class:"text-left mt-4 text-xs text-gray-700"},bn={class:"flex justify-center mt-6"};function fn(e,t,a,o,l,n){const i=(0,r.g2)("Button");return(0,r.uX)(),(0,r.CE)("div",il,[l.grades?((0,r.uX)(),(0,r.CE)("div",ml,[(0,r.Lk)("div",gl,[(0,r.Lk)("ul",bl,[(0,r.Lk)("li",{onClick:t[3]||(t[3]=e=>l.activeTab="grades"),class:(0,p.C4)([{"border-b-2 border-blue-500":"grades"===l.activeTab},"cursor-pointer px-4 py-2"])}," Grades ",2),(0,r.Lk)("li",{onClick:t[4]||(t[4]=e=>l.activeTab="evaluation"),class:(0,p.C4)([{"border-b-2 border-blue-500":"evaluation"===l.activeTab},"cursor-pointer px-4 py-2"])}," Evaluation ",2)])]),(0,r.Lk)("div",fl,[t[9]||(t[9]=(0,r.Lk)("label",{for:"year",class:"w-[150px]"},"Select School Year:",-1)),(0,r.bo)((0,r.Lk)("select",{"onUpdate:modelValue":t[5]||(t[5]=e=>l.selectedSchoolYear=e),id:"year",required:"",class:"mt-1 block py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-green-500 focus:border-green-500 sm:text-sm"},[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(l.school_year,(e=>((0,r.uX)(),(0,r.CE)("option",{key:e.id,value:e.year+"|"+e.sem},(0,p.v_)(e.year+" - Sem: "+e.sem),9,hl)))),128))],512),[[s.u1,l.selectedSchoolYear]])]),(0,r.Lk)("div",yl,[(0,r.Lk)("div",vl,[(0,r.Lk)("div",xl,[t[12]||(t[12]=(0,r.Lk)("img",{src:m,alt:"School Logo",class:"h-20 w-20"},null,-1)),(0,r.Lk)("div",kl,[t[10]||(t[10]=(0,r.Lk)("h2",{class:"text-lg font-semibold text-gray-700"}," NORTH EASTERN MINDANAO STATE UNIVERSITY ",-1)),t[11]||(t[11]=(0,r.Lk)("h3",{class:"text-sm font-medium text-gray-500"}," Cantilan, Surigao del Sur ",-1)),(0,r.Lk)("h3",Ll,(0,p.v_)("evaluation"==l.activeTab?"Certification Of Registration":"Reports Of Grades"),1),(0,r.Lk)("p",wl," SY: "+(0,p.v_)(l.selectedSchoolYear.split("|")[0])+" Term: "+(0,p.v_)(l.selectedSchoolYear.split("|")[1]),1)])])]),(0,r.Lk)("div",Sl,[(0,r.Lk)("div",Cl,[(0,r.Lk)("div",null,[(0,r.Lk)("p",_l,[t[13]||(t[13]=(0,r.Lk)("span",{class:"font-semibold"},"IDNO:",-1)),(0,r.eW)(" "+(0,p.v_)(l.student_info.attributes.student_id),1)]),(0,r.Lk)("p",jl,[t[14]||(t[14]=(0,r.Lk)("span",{class:"font-semibold"},"Lastname:",-1)),(0,r.eW)(" "+(0,p.v_)(l.student_info.attributes.lname),1)]),(0,r.Lk)("p",El,[t[15]||(t[15]=(0,r.Lk)("span",{class:"font-semibold"},"Firstname:",-1)),(0,r.eW)(" "+(0,p.v_)(l.student_info.attributes.fname),1)]),(0,r.Lk)("p",Al,[t[16]||(t[16]=(0,r.Lk)("span",{class:"font-semibold"},"Middle Name:",-1)),(0,r.eW)(" "+(0,p.v_)(l.student_info.attributes.mname),1)]),(0,r.Lk)("p",Il,[t[17]||(t[17]=(0,r.Lk)("span",{class:"font-semibold"},"Sex:",-1)),(0,r.eW)(" "+(0,p.v_)(l.student_info.attributes.gender),1)])]),(0,r.Lk)("div",null,[(0,r.Lk)("p",Fl,[t[18]||(t[18]=(0,r.Lk)("span",{class:"font-semibold"},"Course:",-1)),(0,r.eW)(" "+(0,p.v_)(l.student_info.attributes.course),1)]),(0,r.Lk)("p",Rl,[t[19]||(t[19]=(0,r.Lk)("span",{class:"font-semibold"},"Year Level:",-1)),(0,r.eW)(" "+(0,p.v_)(l.student_info.attributes.year),1)]),(0,r.Lk)("p",Ul,[t[20]||(t[20]=(0,r.Lk)("span",{class:"font-semibold"},"Status:",-1)),(0,r.eW)(" "+(0,p.v_)(l.student_info.attributes.status),1)]),"grades"===l.activeTab?((0,r.uX)(),(0,r.CE)("p",Ml,[t[21]||(t[21]=(0,r.Lk)("span",{class:"font-semibold"},"GPA:",-1)),(0,r.eW)(" "+(0,p.v_)(n.getGPA()),1)])):(0,r.Q3)("",!0)])])]),"grades"===l.activeTab?((0,r.uX)(),(0,r.CE)("div",Pl,[(0,r.Lk)("table",Vl,[t[22]||(t[22]=(0,r.Lk)("thead",{class:"bg-gray-200"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Course No. "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Section "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Descriptive Title "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Time "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Days "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Room "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Grade "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," GComp "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Units ")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.filteredGrades,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id,class:"hover:bg-gray-100"},[(0,r.Lk)("td",Nl,(0,p.v_)(e.subject_no),1),(0,r.Lk)("td",Xl,(0,p.v_)(e.section),1),(0,r.Lk)("td",$l,(0,p.v_)(e.description),1),(0,r.Lk)("td",Dl,(0,p.v_)(e.time),1),(0,r.Lk)("td",Yl,(0,p.v_)(e.days),1),(0,r.Lk)("td",Bl,(0,p.v_)(e.room),1),(0,r.Lk)("td",Tl,(0,p.v_)(e.grade),1),(0,r.Lk)("td",zl,(0,p.v_)(e.gcomp),1),(0,r.Lk)("td",Ol,(0,p.v_)(e.units),1)])))),128))])]),(0,r.Lk)("p",Jl," Total Units: "+(0,p.v_)(l.grades.reduce(((e,t)=>e+Number(t.units)),0)),1)])):(0,r.Q3)("",!0),"evaluation"===l.activeTab?((0,r.uX)(),(0,r.CE)("div",Wl,[(0,r.Lk)("table",Gl,[t[23]||(t[23]=(0,r.Lk)("thead",{class:"bg-gray-200"},[(0,r.Lk)("tr",null,[(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Course No. "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Section "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Descriptive Title "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Time "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Days "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Room "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Bldg "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Lec "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Lab "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Units "),(0,r.Lk)("th",{class:"px-2 py-2 border font-medium text-sm text-gray-700"}," Instructor ")])],-1)),(0,r.Lk)("tbody",null,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(n.filterEvaluation,(e=>((0,r.uX)(),(0,r.CE)("tr",{key:e.id,class:"hover:bg-gray-100"},[(0,r.Lk)("td",ql,(0,p.v_)(e.subject_code),1),(0,r.Lk)("td",Kl,(0,p.v_)(e.section),1),(0,r.Lk)("td",Ql,(0,p.v_)(e.description),1),(0,r.Lk)("td",Hl,(0,p.v_)(e.time),1),(0,r.Lk)("td",Zl,(0,p.v_)(e.days),1),(0,r.Lk)("td",en,(0,p.v_)(e.room),1),(0,r.Lk)("td",tn,(0,p.v_)(e.bldg),1),(0,r.Lk)("td",an,(0,p.v_)(e.lecture),1),(0,r.Lk)("td",sn,(0,p.v_)(e.laboratory),1),(0,r.Lk)("td",rn,(0,p.v_)(e.units),1),(0,r.Lk)("td",on,(0,p.v_)(e.instructor),1)])))),128))])]),(0,r.Lk)("div",ln,["evaluation"===l.activeTab?((0,r.uX)(),(0,r.CE)("p",nn,t[24]||(t[24]=[(0,r.Lk)("small",{class:"font-semibold italic"},"note: Schedules may change depending on the no. of students & faculty loading. please be guided accordingly",-1)]))):(0,r.Q3)("",!0),(0,r.Lk)("p",dn," Total Units: "+(0,p.v_)(l.evaluation.reduce(((e,t)=>e+Number(t.units)),0)),1)]),(0,r.Lk)("p",cn,[t[25]||(t[25]=(0,r.eW)(" Certified By: ")),(0,r.Lk)("span",un,(0,p.v_)(l.evaluation[0]?.evaluator.lname)+", "+(0,p.v_)(l.evaluation[0]?.evaluator.fname),1)]),(0,r.Lk)("p",pn,[t[26]||(t[26]=(0,r.eW)(" Evaluated By: ")),(0,r.Lk)("span",mn,(0,p.v_)(l.evaluation[0]?.evaluator.lname)+", "+(0,p.v_)(l.evaluation[0]?.evaluator.fname),1)]),(0,r.Lk)("small",gn,"Date: "+(0,p.v_)(new Date(Date.now()).getFullYear())+"/"+(0,p.v_)(new Date(Date.now()).getMonth())+"/"+(0,p.v_)(new Date(Date.now()).getDate()),1)])):(0,r.Q3)("",!0),t[27]||(t[27]=(0,r.Fv)('<div class="flex items-center justify-between mb-4 border-t-2 border-blue-500 mt-10" data-v-9de93500><div class="flex self-center flex-col items-left justify-left w-[300px]" data-v-9de93500><div class="flex-row flex gap-2 items-center" data-v-9de93500><svg width="10" height="10" version="1.0" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 64 64" enable-background="new 0 0 64 64" xml:space="preserve" fill="#e25555" stroke="#e25555" data-v-9de93500><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-9de93500></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-9de93500></g><g id="SVGRepo_iconCarrier" data-v-9de93500><path fill="#c17689" d="M32,0C18.746,0,8,10.746,8,24c0,5.219,1.711,10.008,4.555,13.93c0.051,0.094,0.059,0.199,0.117,0.289l16,24 C29.414,63.332,30.664,64,32,64s2.586-0.668,3.328-1.781l16-24c0.059-0.09,0.066-0.195,0.117-0.289C54.289,34.008,56,29.219,56,24 C56,10.746,45.254,0,32,0z M32,32c-4.418,0-8-3.582-8-8s3.582-8,8-8s8,3.582,8,8S36.418,32,32,32z" data-v-9de93500></path></g></svg><p class="text-sm font-medium text-gray-500 w-[200px]" data-v-9de93500> Cantilan, Surigao del Sur 8317 </p></div><div class="flex-row flex gap-2 items-center" data-v-9de93500><svg width="10" height="10" viewBox="0 0 15 15" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" fill="#000000" data-v-9de93500><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-9de93500></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-9de93500></g><g id="SVGRepo_iconCarrier" data-v-9de93500><title data-v-9de93500>call [#192]</title><desc data-v-9de93500>Created with Sketch.</desc><defs data-v-9de93500></defs><g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd" data-v-9de93500><g id="Dribbble-Light-Preview" transform="translate(-103.000000, -7321.000000)" fill="#9b7878" data-v-9de93500><g id="icons" transform="translate(56.000000, 160.000000)" data-v-9de93500><path d="M61.7302966,7173.99596 C61.2672966,7175.40296 59.4532966,7176.10496 58.1572966,7175.98796 C56.3872966,7175.82796 54.4612966,7174.88896 52.9992966,7173.85496 C50.8502966,7172.33496 48.8372966,7169.98396 47.6642966,7167.48896 C46.8352966,7165.72596 46.6492966,7163.55796 47.8822966,7161.95096 C48.3382966,7161.35696 48.8312966,7161.03996 49.5722966,7161.00296 C50.6002966,7160.95296 50.7442966,7161.54096 51.0972966,7162.45696 C51.3602966,7163.14196 51.7112966,7163.84096 51.9072966,7164.55096 C52.2742966,7165.87596 50.9912966,7165.93096 50.8292966,7167.01396 C50.7282966,7167.69696 51.5562966,7168.61296 51.9302966,7169.09996 C52.6632966,7170.05396 53.5442966,7170.87696 54.5382966,7171.50296 C55.1072966,7171.86196 56.0262966,7172.50896 56.6782966,7172.15196 C57.6822966,7171.60196 57.5872966,7169.90896 58.9912966,7170.48196 C59.7182966,7170.77796 60.4222966,7171.20496 61.1162966,7171.57896 C62.1892966,7172.15596 62.1392966,7172.75396 61.7302966,7173.99596 C61.4242966,7174.92396 62.0362966,7173.06796 61.7302966,7173.99596" id="call-[#192]" data-v-9de93500></path></g></g></g></g></svg><p class="text-sm font-medium text-gray-500" data-v-9de93500>086-212-2723</p></div><div class="flex-row flex gap-2 items-center" data-v-9de93500><svg width="10" height="10" viewBox="0 0 64 64" xmlns="http://www.w3.org/2000/svg" stroke-width="3" stroke="#766060" fill="none" data-v-9de93500><g id="SVGRepo_bgCarrier" stroke-width="0" data-v-9de93500></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round" data-v-9de93500></g><g id="SVGRepo_iconCarrier" data-v-9de93500><path d="M39.93,55.72A24.86,24.86,0,1,1,56.86,32.15a37.24,37.24,0,0,1-.73,6" data-v-9de93500></path><path d="M37.86,51.1A47,47,0,0,1,32,56.7" data-v-9de93500></path><path d="M32,7A34.14,34.14,0,0,1,43.57,30a34.07,34.07,0,0,1,.09,4.85" data-v-9de93500></path><path d="M32,7A34.09,34.09,0,0,0,20.31,32.46c0,16.2,7.28,21,11.66,24.24" data-v-9de93500></path><line x1="10.37" y1="19.9" x2="53.75" y2="19.9" data-v-9de93500></line><line x1="32" y1="6.99" x2="32" y2="56.7" data-v-9de93500></line><line x1="11.05" y1="45.48" x2="37.04" y2="45.48" data-v-9de93500></line><line x1="7.14" y1="32.46" x2="56.86" y2="31.85" data-v-9de93500></line><path d="M53.57,57,58,52.56l-8-8,4.55-2.91a.38.38,0,0,0-.12-.7L39.14,37.37a.39.39,0,0,0-.46.46L42,53.41a.39.39,0,0,0,.71.13L45.57,49Z" data-v-9de93500></path></g></svg><p class="text-xs text-gray-500" data-v-9de93500>www.nemsu.du.ph</p></div></div><div class="flex w-full items-center justify-end gap-4" data-v-9de93500><img src="'+Wa+'" alt="School Logo" class="h-[50px] w-30" data-v-9de93500><img src="'+Ga+'" alt="School Logo" class="h-[50px] w-30" data-v-9de93500><img src="'+qa+'" alt="School Logo" class="h-[50px] w-30" data-v-9de93500></div></div>',1))],512),(0,r.Lk)("div",bn,[(0,r.bF)(i,{onClick:n.saveAsPDF,class:"bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700 transition duration-150"},{default:(0,r.k6)((()=>t[28]||(t[28]=[(0,r.eW)(" Print Report ")]))),_:1},8,["onClick"])])])):((0,r.uX)(),(0,r.CE)("div",dl,[t[8]||(t[8]=(0,r.Lk)("h2",{class:"text-2xl font-semibold text-gray-700 text-center mb-6"}," Login ",-1)),(0,r.Lk)("form",{onSubmit:t[2]||(t[2]=(0,s.D$)(((...e)=>n.UserLogin&&n.UserLogin(...e)),["prevent"])),class:"space-y-4"},[(0,r.Lk)("div",null,[t[6]||(t[6]=(0,r.Lk)("label",{for:"username",class:"block text-sm font-medium text-gray-700"},"Student Id",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[0]||(t[0]=e=>l.username=e),id:"username",type:"text",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[s.Jo,l.username]])]),(0,r.Lk)("div",null,[t[7]||(t[7]=(0,r.Lk)("label",{for:"password",class:"block text-sm font-medium text-gray-700"},"Password",-1)),(0,r.bo)((0,r.Lk)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>l.password=e),id:"password",type:"password",class:"w-full px-4 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500",required:""},null,512),[[s.Jo,l.password]])]),l.errorMessage?((0,r.uX)(),(0,r.CE)("div",cl,(0,p.v_)(l.errorMessage),1)):(0,r.Q3)("",!0),(0,r.Lk)("div",ul,[(0,r.Lk)("button",{type:"submit",class:"bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition duration-150",disabled:l.isSubmitting},(0,p.v_)(l.isSubmitting?"Logging in...":"Login"),9,pl)])],32)]))])}var hn={name:"ViewGrades",components:{Button:A},data(){return{username:"",password:"",errorMessage:"",isSubmitting:!1,grades:null,student_info:null,evaluation:null,activeTab:"grades",school_year:null,selectedSchoolYear:""}},methods:{async UserLogin(){this.isSubmitting=!0;try{const e=await S.A.get(`https://api.nemsu-grading.online/api/students?filters[student_id][$eq]=${this.username}&filters[password][$eq]=${this.password}&filters[activated][$eq]=true`),t=e.data.data[0];console.log(t),this.student_info=t,this.grades=t.grades,this.evaluation=t.active_evaluation,console.log(t),this.school_year=t.school_year,console.log(this.evaluation),this.getGPA()}catch(e){this.errorMessage="Login failed. Please try again.",console.log(e)}finally{this.isSubmitting=!1}},printReport(){try{const e=this.$refs.printSection;e.print()}catch(e){console.log(e)}},async saveAsPDF(){const e=this.$refs.printSection,t=await pr()(e,{scale:5}),a=t.toDataURL("image/png"),s=new cr.Ay("portrait","pt","a4"),r=s.internal.pageSize.getWidth(),o=s.internal.pageSize.getHeight(),l=t.width,n=t.height,i=n/l,d=r,c=d*i;console.log(o),s.addImage(a,"PNG",0,0,d,c),s.save(`${this.activeTab}-${this.evaluation[0]?.school_year}-${this.evaluation[0]?.sem}.pdf`)},getGPA(){const e=this.grades;console.log(e.length);const t=e.length,a=e.reduce(((e,t)=>e+Number(t.grade)),0),s=a/t;return Number(s).toFixed(2)}},computed:{filteredGrades(){const e=this.selectedSchoolYear.split("|")[0],t=this.selectedSchoolYear.split("|")[1];return console.log(this.selectedSchoolYear),this.grades.filter((a=>a.sy===e&&a.semester==t))},filterEvaluation(){const e=this.selectedSchoolYear.split("|")[0],t=this.selectedSchoolYear.split("|")[1];return console.log(this.selectedSchoolYear),this.evaluation.filter((a=>a.school_year==e&&a.sem==t))}}};const yn=(0,i.A)(hn,[["render",fn],["__scopeId","data-v-9de93500"]]);var vn=yn;const xn=[{path:"/signin",name:"signin",component:R},{path:"/register",name:"register",component:nl},{path:"/view-grades",name:"view-grades",component:vn},{path:"/dashboard",name:"dashboard",component:re,children:[{path:"",redirect:"/dashboard/home"},{path:"home",name:"home",component:de},{path:"profile",name:"profile",component:Ke},{path:"settings",name:"settings",component:pt},{path:"grading",name:"grading",component:Vt},{path:"program",name:"program",component:Ja},{path:"evaluation",name:"evaluation",component:br},{path:"account",name:"account",component:ma},{path:"student",name:"student",component:wo},{path:"/:catchAll(.*)",name:"NotFound",component:ht}]},{path:"/:catchAll(.*)",name:"NotFound",component:ht}],kn=(0,u.aE)({history:(0,u.LA)(),routes:xn});kn.beforeEach(((e,t,a)=>{const s=sessionStorage.getItem("jwt");"signin"===e.name||s||"register"===e.name||"view-grades"===e.name?"signin"===e.name&&s?a({name:"/dashboard"}):a():a({name:"signin"})})),console.log("Router setup:",kn);var Ln=kn,wn=a(9465),Sn=a(5378),Cn=a.n(Sn);const _n=(0,s.Ef)(c);_n.component("gc-spread-sheets",wn.GcSpreadSheets),_n.component("gc-worksheet",wn.GcWorksheet),_n.component("gc-column",wn.GcColumn),_n.component("ToastContainer",We.ToastContainer),_n.use(Cn()),_n.use(Ln),_n.mount("#app")}},t={};function a(s){var r=t[s];if(void 0!==r)return r.exports;var o=t[s]={id:s,loaded:!1,exports:{}};return e[s].call(o.exports,o,o.exports,a),o.loaded=!0,o.exports}a.m=e,function(){var e=[];a.O=function(t,s,r,o){if(!s){var l=1/0;for(c=0;c<e.length;c++){s=e[c][0],r=e[c][1],o=e[c][2];for(var n=!0,i=0;i<s.length;i++)(!1&o||l>=o)&&Object.keys(a.O).every((function(e){return a.O[e](s[i])}))?s.splice(i--,1):(n=!1,o<l&&(l=o));if(n){e.splice(c--,1);var d=r();void 0!==d&&(t=d)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[s,r,o]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){var e,t=Object.getPrototypeOf?function(e){return Object.getPrototypeOf(e)}:function(e){return e.__proto__};a.t=function(s,r){if(1&r&&(s=this(s)),8&r)return s;if("object"===typeof s&&s){if(4&r&&s.__esModule)return s;if(16&r&&"function"===typeof s.then)return s}var o=Object.create(null);a.r(o);var l={};e=e||[null,t({}),t([]),t(t)];for(var n=2&r&&s;"object"==typeof n&&!~e.indexOf(n);n=t(n))Object.getOwnPropertyNames(n).forEach((function(e){l[e]=function(){return s[e]}}));return l["default"]=function(){return s},a.d(o,l),o}}(),function(){a.d=function(e,t){for(var s in t)a.o(t,s)&&!a.o(e,s)&&Object.defineProperty(e,s,{enumerable:!0,get:t[s]})}}(),function(){a.f={},a.e=function(e){return Promise.all(Object.keys(a.f).reduce((function(t,s){return a.f[s](e,t),t}),[]))}}(),function(){a.u=function(e){return"js/"+e+".8de537a2.js"}}(),function(){a.miniCssF=function(e){}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={},t="eclassrecord:";a.l=function(s,r,o,l){if(e[s])e[s].push(r);else{var n,i;if(void 0!==o)for(var d=document.getElementsByTagName("script"),c=0;c<d.length;c++){var u=d[c];if(u.getAttribute("src")==s||u.getAttribute("data-webpack")==t+o){n=u;break}}n||(i=!0,n=document.createElement("script"),n.charset="utf-8",n.timeout=120,a.nc&&n.setAttribute("nonce",a.nc),n.setAttribute("data-webpack",t+o),n.src=s),e[s]=[r];var p=function(t,a){n.onerror=n.onload=null,clearTimeout(m);var r=e[s];if(delete e[s],n.parentNode&&n.parentNode.removeChild(n),r&&r.forEach((function(e){return e(a)})),t)return t(a)},m=setTimeout(p.bind(null,void 0,{type:"timeout",target:n}),12e4);n.onerror=p.bind(null,n.onerror),n.onload=p.bind(null,n.onload),i&&document.head.appendChild(n)}}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){a.p="/"}(),function(){var e={524:0};a.f.j=function(t,s){var r=a.o(e,t)?e[t]:void 0;if(0!==r)if(r)s.push(r[2]);else{var o=new Promise((function(a,s){r=e[t]=[a,s]}));s.push(r[2]=o);var l=a.p+a.u(t),n=new Error,i=function(s){if(a.o(e,t)&&(r=e[t],0!==r&&(e[t]=void 0),r)){var o=s&&("load"===s.type?"missing":s.type),l=s&&s.target&&s.target.src;n.message="Loading chunk "+t+" failed.\n("+o+": "+l+")",n.name="ChunkLoadError",n.type=o,n.request=l,r[1](n)}};a.l(l,i,"chunk-"+t,t)}},a.O.j=function(t){return 0===e[t]};var t=function(t,s){var r,o,l=s[0],n=s[1],i=s[2],d=0;if(l.some((function(t){return 0!==e[t]}))){for(r in n)a.o(n,r)&&(a.m[r]=n[r]);if(i)var c=i(a)}for(t&&t(s);d<l.length;d++)o=l[d],a.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return a.O(c)},s=self["webpackChunkeclassrecord"]=self["webpackChunkeclassrecord"]||[];s.forEach(t.bind(null,0)),s.push=t.bind(null,s.push.bind(s))}();var s=a.O(void 0,[504],(function(){return a(3008)}));s=a.O(s)})();
//# sourceMappingURL=app.1afa3316.js.map